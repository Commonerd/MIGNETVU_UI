exports.id=861,exports.ids=[861],exports.modules={367:(e,t,r)=>{"use strict";function n(e){return e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removeBasePath",{enumerable:!0,get:function(){return n}}),r(617),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},617:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"hasBasePath",{enumerable:!0,get:function(){return a}});let n=r(9596);function a(e){return(0,n.pathHasPrefix)(e,"")}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},651:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isLocalURL",{enumerable:!0,get:function(){return i}});let n=r(4718),a=r(617);function i(e){if(!(0,n.isAbsoluteUrl)(e))return!0;try{let t=(0,n.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,a.hasBasePath)(r.pathname)}catch(e){return!1}}},725:(e,t,r)=>{"use strict";function n(e){return{type:e.type,nationality:e.nationality,ethnicity:e.ethnicity,migrationYear:e.migration_year,endYear:e.end_year,latitude:e.latitude,longitude:e.longitude,edges:e.edges,migrationTraces:e.migration_traces}}function a(e,t,r=3){let i=n(e),o=new Set((e.connections||[]).map(e=>e.targetId));return t.filter(t=>t.id!==e.id&&!o.has(t.id)).map(e=>{var t;let r;return{network:e,score:(t=n(e),r=0,i.nationality&&i.nationality===t.nationality&&(r+=1),i.ethnicity&&i.ethnicity===t.ethnicity&&(r+=1),i.type&&i.type===t.type&&(r+=1),i.migrationYear&&t.migrationYear&&5>=Math.abs(i.migrationYear-t.migrationYear)&&(r+=1),r)}}).filter(e=>e.score>0).sort((e,t)=>t.score-e.score).slice(0,r).map(e=>e.network)}r.d(t,{u:()=>a})},1027:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});let n=r(4036),a=r(3045),i=r(1730),o=r(2746),s=r(367),l=r(5939);function c(e,t,r,c,d,u){let h,p=!1,f=!1,m=(0,l.parseRelativeUrl)(e),g=(0,i.removeTrailingSlash)((0,o.normalizeLocalePath)((0,s.removeBasePath)(m.pathname),u).pathname),y=r=>{let l=(0,n.getPathMatch)(r.source+"",{removeUnnamedParams:!0,strict:!0})(m.pathname);if((r.has||r.missing)&&l){let e=(0,a.matchHas)({headers:{host:document.location.hostname,"user-agent":navigator.userAgent},cookies:document.cookie.split("; ").reduce((e,t)=>{let[r,...n]=t.split("=");return e[r]=n.join("="),e},{})},m.query,r.has,r.missing);e?Object.assign(l,e):l=!1}if(l){if(!r.destination)return f=!0,!0;let n=(0,a.prepareDestination)({appendParamsToQuery:!0,destination:r.destination,params:l,query:c});if(m=n.parsedDestination,e=n.newUrl,Object.assign(c,n.parsedDestination.query),g=(0,i.removeTrailingSlash)((0,o.normalizeLocalePath)((0,s.removeBasePath)(e),u).pathname),t.includes(g))return p=!0,h=g,!0;if((h=d(g))!==e&&t.includes(h))return p=!0,!0}},b=!1;for(let e=0;e<r.beforeFiles.length;e++)y(r.beforeFiles[e]);if(!(p=t.includes(g))){if(!b){for(let e=0;e<r.afterFiles.length;e++)if(y(r.afterFiles[e])){b=!0;break}}if(b||(h=d(g),b=p=t.includes(h)),!b){for(let e=0;e<r.fallback.length;e++)if(y(r.fallback[e])){b=!0;break}}}return{asPath:e,parsedAs:m,matchedPage:p,resolvedHref:h,externalDest:f}}},1046:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(8732);r(2015);let a=({progress:e})=>(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",width:"100vw",zIndex:99999,background:"rgba(255,255,255,0.7)",position:"fixed",top:0,left:0},children:[(0,n.jsx)("div",{className:"loader"}),(0,n.jsx)("div",{style:{marginTop:16,fontSize:18,color:"#3e2723"},children:"Loading..."}),(0,n.jsx)("style",{children:`
      .loader {
        border: 8px solid #f3f3f3;
        border-top: 8px solid #3e2723;
        border-radius: 50%;
        width: 60px;
        height: 60px;
        animation: spin 1s linear infinite;
      }
      @keyframes spin {
        0% { transform: rotate(0deg);}
        100% { transform: rotate(360deg);}
      }
      `})]})},1113:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(8732),a=r(2015);let i=({value:e,onChange:t,placeholderStart:r="Start Year",placeholderEnd:i="End Year",min:o=-5e3,max:s=5e3})=>{let[l,c]=(0,a.useState)(e[0]),[d,u]=(0,a.useState)(e[1]),h=(0,a.useRef)(null);return(0,a.useEffect)(()=>{c(e[0]),u(e[1])},[e]),(0,a.useEffect)(()=>(h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{t([l,d])},1e3),()=>{h.current&&clearTimeout(h.current)}),[l,d]),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("input",{type:"number",min:o,max:s,placeholder:r,value:0===l?"":l,onChange:e=>c(""===e.target.value?0:parseInt(e.target.value)),className:"w-16 p-1 border rounded text-sm focus:outline-none focus:ring-2 focus:ring-amber-500"}),(0,n.jsx)("span",{className:"text-sm",children:"-"}),(0,n.jsx)("input",{type:"number",min:o,max:s,placeholder:i,value:0===d?"":d,onChange:e=>u(""===e.target.value?0:parseInt(e.target.value)),className:"w-16 p-1 border rounded text-sm focus:outline-none focus:ring-2 focus:ring-amber-500"})]})}},1169:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLocale",{enumerable:!0,get:function(){return n}}),r(7779);let n=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1217:(e,t)=>{"use strict";function r(){let e=Object.create(null);return{on(t,r){(e[t]||(e[t]=[])).push(r)},off(t,r){e[t]&&e[t].splice(e[t].indexOf(r)>>>0,1)},emit(t){for(var r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];(e[t]||[]).slice().map(e=>{e(...n)})}}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}})},1219:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BloomFilter",{enumerable:!0,get:function(){return n}});class n{static from(e,t){void 0===t&&(t=1e-4);let r=new n(e.length,t);for(let t of e)r.add(t);return r}export(){let e={numItems:this.numItems,errorRate:this.errorRate,numBits:this.numBits,numHashes:this.numHashes,bitArray:this.bitArray};if(this.errorRate<1e-4){let t=JSON.stringify(e),n=r(8550).sync(t);n>1024&&console.warn("Creating filter with error rate less than 0.1% (0.001) can increase the size dramatically proceed with caution. Received error rate "+this.errorRate+" resulted in size "+t.length+" bytes, "+n+" bytes (gzip)")}return e}import(e){this.numItems=e.numItems,this.errorRate=e.errorRate,this.numBits=e.numBits,this.numHashes=e.numHashes,this.bitArray=e.bitArray}add(e){this.getHashValues(e).forEach(e=>{this.bitArray[e]=1})}contains(e){return this.getHashValues(e).every(e=>this.bitArray[e])}getHashValues(e){let t=[];for(let r=1;r<=this.numHashes;r++){let n=function(e){let t=0;for(let r=0;r<e.length;r++)t=Math.imul(t^e.charCodeAt(r),0x5bd1e995),t^=t>>>13,t=Math.imul(t,0x5bd1e995);return t>>>0}(""+e+r)%this.numBits;t.push(n)}return t}constructor(e,t=1e-4){this.numItems=e,this.errorRate=t,this.numBits=Math.ceil(-(e*Math.log(t))/(Math.log(2)*Math.log(2))),this.numHashes=Math.ceil(this.numBits/e*Math.log(2)),this.bitArray=Array(this.numBits).fill(0)}}},1342:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(2015);let a=n.forwardRef(function({title:e,titleId:t,...r},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32L19.513 8.2Z"}))})},1473:(e,t,r)=>{"use strict";r.a(e,async(e,n)=>{try{r.d(t,{A:()=>d});var a=r(8732),i=r(2015),o=r.n(i),s=r(3070),l=r(7015),c=e([s,l]);[s,l]=c.then?(await c)():c;let d=o().memo(({networks:e,filters:t,filteredNetworks:r,filteredTraces:n,filteredEdges:o,handleEdgeClick:c,handleNetworkEdgesToggle:d})=>{let u=(0,i.useRef)(null),h=(e,t,r=5)=>{let n=Math.PI/180*(90-e),a=Math.PI/180*(t+180),i=-(r*Math.sin(n)*Math.cos(a)),o=r*Math.cos(n),l=r*Math.sin(n)*Math.sin(a);return new s.Vector3(i,o,l)},p=(e,t,r=5)=>{let n=new s.Vector3().copy(e).normalize().multiplyScalar(+r),a=new s.Vector3().addVectors(e,t).multiplyScalar(.5).normalize().multiplyScalar(1.05*r);return new s.CatmullRomCurve3([n,a,t])};return(0,i.useEffect)(()=>{if(!u.current)return;let e=new s.Scene,t=new s.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),a=new s.WebGLRenderer({antialias:!0});a.setSize(window.innerWidth,window.innerHeight),u.current.appendChild(a.domElement);let i=new l.N(t,a.domElement);i.enableDamping=!0,i.dampingFactor=.25,i.enableZoom=!0;let c=h(35,120,15);t.position.set(c.x,c.y,c.z),t.lookAt(0,0,0);let d=new s.SphereGeometry(5,32,32),f=new s.TextureLoader().load("/texture/earth.jpg",()=>{a.render(e,t)}),m=new s.MeshBasicMaterial({map:f}),g=new s.Mesh(d,m);e.add(g);let y=new s.AmbientLight(0xffffff,.5);e.add(y),r.forEach(t=>{let r=h(t.latitude,t.longitude,5),n=new s.SphereGeometry(.03,16,16),a=new s.MeshBasicMaterial({color:"Person"===t.type?0xff0000:255}),i=new s.Mesh(n,a);i.position.copy(r),e.add(i)}),o.forEach(t=>{let r=h(t.startLat,t.startLon,5),n=h(t.endLat,t.endLon,5),a=p(r,n),i=new s.TubeGeometry(a,64,.01,8,!1),o=new s.MeshBasicMaterial({color:0xffa500}),l=new s.Mesh(i,o);e.add(l);for(let t=1;t<=3;t++){let r=t/4,n=a.getPoint(r),i=a.getTangent(r).normalize(),o=new s.ArrowHelper(i,n,.2,0xffff00);e.add(o)}}),n.forEach((t,r)=>{if(r<n.length-1){let a=h(t.latitude,t.longitude,5),i=h(n[r+1].latitude,n[r+1].longitude,5),o=p(a,i),l=new s.TubeGeometry(o,64,.01,8,!1),c=new s.MeshBasicMaterial({color:0xffa500}),d=new s.Mesh(l,c);e.add(d);for(let t=1;t<=3;t++){let r=t/4,n=o.getPoint(r),a=o.getTangent(r).normalize(),i=new s.ArrowHelper(a,n,.2,0xffff00);e.add(i)}}});let b=()=>{requestAnimationFrame(b),i.update(),a.render(e,t)};return b(),()=>{u.current?.removeChild(a.domElement)}},[r,o,n]),(0,a.jsx)("div",{ref:u,style:{width:"100%",height:"100%"}})});n()}catch(e){n(e)}})},1484:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return b},handleClientScriptLoad:function(){return m},initScriptLoader:function(){return g}});let n=r(7020),a=r(3147),i=r(8732),o=n._(r(2326)),s=a._(r(2015)),l=r(1523),c=r(8941),d=r(4841),u=new Map,h=new Set,p=e=>{if(o.default.preinit)return void e.forEach(e=>{o.default.preinit(e,{as:"style"})})},f=e=>{let{src:t,id:r,onLoad:n=()=>{},onReady:a=null,dangerouslySetInnerHTML:i,children:o="",strategy:s="afterInteractive",onError:l,stylesheets:d}=e,f=r||t;if(f&&h.has(f))return;if(u.has(t)){h.add(f),u.get(t).then(n,l);return}let m=()=>{a&&a(),h.add(f)},g=document.createElement("script"),y=new Promise((e,t)=>{g.addEventListener("load",function(t){e(),n&&n.call(this,t),m()}),g.addEventListener("error",function(e){t(e)})}).catch(function(e){l&&l(e)});i?(g.innerHTML=i.__html||"",m()):o?(g.textContent="string"==typeof o?o:Array.isArray(o)?o.join(""):"",m()):t&&(g.src=t,u.set(t,y)),(0,c.setAttributesFromProps)(g,e),"worker"===s&&g.setAttribute("type","text/partytown"),g.setAttribute("data-nscript",s),d&&p(d),document.body.appendChild(g)};function m(e){let{strategy:t="afterInteractive"}=e;"lazyOnload"===t?window.addEventListener("load",()=>{(0,d.requestIdleCallback)(()=>f(e))}):f(e)}function g(e){e.forEach(m),[...document.querySelectorAll('[data-nscript="beforeInteractive"]'),...document.querySelectorAll('[data-nscript="beforePageRender"]')].forEach(e=>{let t=e.id||e.getAttribute("src");h.add(t)})}function y(e){let{id:t,src:r="",onLoad:n=()=>{},onReady:a=null,strategy:c="afterInteractive",onError:u,stylesheets:p,...m}=e,{updateScripts:g,scripts:y,getIsSsr:b,appDir:x,nonce:_}=(0,s.useContext)(l.HeadManagerContext),v=(0,s.useRef)(!1);(0,s.useEffect)(()=>{let e=t||r;v.current||(a&&e&&h.has(e)&&a(),v.current=!0)},[a,t,r]);let w=(0,s.useRef)(!1);if((0,s.useEffect)(()=>{if(!w.current){if("afterInteractive"===c)f(e);else"lazyOnload"===c&&("complete"===document.readyState?(0,d.requestIdleCallback)(()=>f(e)):window.addEventListener("load",()=>{(0,d.requestIdleCallback)(()=>f(e))}));w.current=!0}},[e,c]),("beforeInteractive"===c||"worker"===c)&&(g?(y[c]=(y[c]||[]).concat([{id:t,src:r,onLoad:n,onReady:a,onError:u,...m}]),g(y)):b&&b()?h.add(t||r):b&&!b()&&f(e)),x){if(p&&p.forEach(e=>{o.default.preinit(e,{as:"style"})}),"beforeInteractive"===c)if(!r)return m.dangerouslySetInnerHTML&&(m.children=m.dangerouslySetInnerHTML.__html,delete m.dangerouslySetInnerHTML),(0,i.jsx)("script",{nonce:_,dangerouslySetInnerHTML:{__html:"(self.__next_s=self.__next_s||[]).push("+JSON.stringify([0,{...m,id:t}])+")"}});else return o.default.preload(r,m.integrity?{as:"script",integrity:m.integrity,nonce:_,crossOrigin:m.crossOrigin}:{as:"script",nonce:_,crossOrigin:m.crossOrigin}),(0,i.jsx)("script",{nonce:_,dangerouslySetInnerHTML:{__html:"(self.__next_s=self.__next_s||[]).push("+JSON.stringify([r,{...m,id:t}])+")"}});"afterInteractive"===c&&r&&o.default.preload(r,m.integrity?{as:"script",integrity:m.integrity,nonce:_,crossOrigin:m.crossOrigin}:{as:"script",nonce:_,crossOrigin:m.crossOrigin})}return null}Object.defineProperty(y,"__nextScript",{value:!0});let b=y;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1523:(e,t,r)=>{"use strict";e.exports=r(3885).vendored.contexts.HeadManagerContext},1730:(e,t)=>{"use strict";function r(e){return e.replace(/\/$/,"")||"/"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removeTrailingSlash",{enumerable:!0,get:function(){return r}})},1791:e=>{(()=>{"use strict";"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab=__dirname+"/");var t={};(()=>{function e(e,t){void 0===t&&(t={});for(var r=function(e){for(var t=[],r=0;r<e.length;){var n=e[r];if("*"===n||"+"===n||"?"===n){t.push({type:"MODIFIER",index:r,value:e[r++]});continue}if("\\"===n){t.push({type:"ESCAPED_CHAR",index:r++,value:e[r++]});continue}if("{"===n){t.push({type:"OPEN",index:r,value:e[r++]});continue}if("}"===n){t.push({type:"CLOSE",index:r,value:e[r++]});continue}if(":"===n){for(var a="",i=r+1;i<e.length;){var o=e.charCodeAt(i);if(o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122||95===o){a+=e[i++];continue}break}if(!a)throw TypeError("Missing parameter name at "+r);t.push({type:"NAME",index:r,value:a}),r=i;continue}if("("===n){var s=1,l="",i=r+1;if("?"===e[i])throw TypeError('Pattern cannot start with "?" at '+i);for(;i<e.length;){if("\\"===e[i]){l+=e[i++]+e[i++];continue}if(")"===e[i]){if(0==--s){i++;break}}else if("("===e[i]&&(s++,"?"!==e[i+1]))throw TypeError("Capturing groups are not allowed at "+i);l+=e[i++]}if(s)throw TypeError("Unbalanced pattern at "+r);if(!l)throw TypeError("Missing pattern at "+r);t.push({type:"PATTERN",index:r,value:l}),r=i;continue}t.push({type:"CHAR",index:r,value:e[r++]})}return t.push({type:"END",index:r,value:""}),t}(e),n=t.prefixes,i=void 0===n?"./":n,o="[^"+a(t.delimiter||"/#?")+"]+?",s=[],l=0,c=0,d="",u=function(e){if(c<r.length&&r[c].type===e)return r[c++].value},h=function(e){var t=u(e);if(void 0!==t)return t;var n=r[c];throw TypeError("Unexpected "+n.type+" at "+n.index+", expected "+e)},p=function(){for(var e,t="";e=u("CHAR")||u("ESCAPED_CHAR");)t+=e;return t};c<r.length;){var f=u("CHAR"),m=u("NAME"),g=u("PATTERN");if(m||g){var y=f||"";-1===i.indexOf(y)&&(d+=y,y=""),d&&(s.push(d),d=""),s.push({name:m||l++,prefix:y,suffix:"",pattern:g||o,modifier:u("MODIFIER")||""});continue}var b=f||u("ESCAPED_CHAR");if(b){d+=b;continue}if(d&&(s.push(d),d=""),u("OPEN")){var y=p(),x=u("NAME")||"",_=u("PATTERN")||"",v=p();h("CLOSE"),s.push({name:x||(_?l++:""),pattern:x&&!_?o:_,prefix:y,suffix:v,modifier:u("MODIFIER")||""});continue}h("END")}return s}function r(e,t){void 0===t&&(t={});var r=i(t),n=t.encode,a=void 0===n?function(e){return e}:n,o=t.validate,s=void 0===o||o,l=e.map(function(e){if("object"==typeof e)return RegExp("^(?:"+e.pattern+")$",r)});return function(t){for(var r="",n=0;n<e.length;n++){var i=e[n];if("string"==typeof i){r+=i;continue}var o=t?t[i.name]:void 0,c="?"===i.modifier||"*"===i.modifier,d="*"===i.modifier||"+"===i.modifier;if(Array.isArray(o)){if(!d)throw TypeError('Expected "'+i.name+'" to not repeat, but got an array');if(0===o.length){if(c)continue;throw TypeError('Expected "'+i.name+'" to not be empty')}for(var u=0;u<o.length;u++){var h=a(o[u],i);if(s&&!l[n].test(h))throw TypeError('Expected all "'+i.name+'" to match "'+i.pattern+'", but got "'+h+'"');r+=i.prefix+h+i.suffix}continue}if("string"==typeof o||"number"==typeof o){var h=a(String(o),i);if(s&&!l[n].test(h))throw TypeError('Expected "'+i.name+'" to match "'+i.pattern+'", but got "'+h+'"');r+=i.prefix+h+i.suffix;continue}if(!c){var p=d?"an array":"a string";throw TypeError('Expected "'+i.name+'" to be '+p)}}return r}}function n(e,t,r){void 0===r&&(r={});var n=r.decode,a=void 0===n?function(e){return e}:n;return function(r){var n=e.exec(r);if(!n)return!1;for(var i=n[0],o=n.index,s=Object.create(null),l=1;l<n.length;l++)!function(e){if(void 0!==n[e]){var r=t[e-1];"*"===r.modifier||"+"===r.modifier?s[r.name]=n[e].split(r.prefix+r.suffix).map(function(e){return a(e,r)}):s[r.name]=a(n[e],r)}}(l);return{path:i,index:o,params:s}}}function a(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function i(e){return e&&e.sensitive?"":"i"}function o(e,t,r){void 0===r&&(r={});for(var n=r.strict,o=void 0!==n&&n,s=r.start,l=r.end,c=r.encode,d=void 0===c?function(e){return e}:c,u="["+a(r.endsWith||"")+"]|$",h="["+a(r.delimiter||"/#?")+"]",p=void 0===s||s?"^":"",f=0;f<e.length;f++){var m=e[f];if("string"==typeof m)p+=a(d(m));else{var g=a(d(m.prefix)),y=a(d(m.suffix));if(m.pattern)if(t&&t.push(m),g||y)if("+"===m.modifier||"*"===m.modifier){var b="*"===m.modifier?"?":"";p+="(?:"+g+"((?:"+m.pattern+")(?:"+y+g+"(?:"+m.pattern+"))*)"+y+")"+b}else p+="(?:"+g+"("+m.pattern+")"+y+")"+m.modifier;else p+="("+m.pattern+")"+m.modifier;else p+="(?:"+g+y+")"+m.modifier}}if(void 0===l||l)o||(p+=h+"?"),p+=r.endsWith?"(?="+u+")":"$";else{var x=e[e.length-1],_="string"==typeof x?h.indexOf(x[x.length-1])>-1:void 0===x;o||(p+="(?:"+h+"(?="+u+"))?"),_||(p+="(?="+h+"|"+u+")")}return new RegExp(p,i(r))}function s(t,r,n){if(t instanceof RegExp){if(!r)return t;var a=t.source.match(/\((?!\?)/g);if(a)for(var l=0;l<a.length;l++)r.push({name:l,prefix:"",suffix:"",modifier:"",pattern:""});return t}return Array.isArray(t)?RegExp("(?:"+t.map(function(e){return s(e,r,n).source}).join("|")+")",i(n)):o(e(t,n),r,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.parse=e,t.compile=function(t,n){return r(e(t,n),n)},t.tokensToFunction=r,t.match=function(e,t){var r=[];return n(s(e,r,t),r,t)},t.regexpToFunction=n,t.tokensToRegexp=o,t.pathToRegexp=s})(),e.exports=t})()},1833:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLocale",{enumerable:!0,get:function(){return i}});let n=r(6655),a=r(9596);function i(e,t,r,i){if(!t||t===r)return e;let o=e.toLowerCase();return!i&&((0,a.pathHasPrefix)(o,"/api")||(0,a.pathHasPrefix)(o,"/"+t.toLowerCase()))?e:(0,n.addPathPrefix)(e,"/"+t)}},1918:(e,t)=>{"use strict";function r(e){return"/api"===e||!!(null==e?void 0:e.startsWith("/api/"))}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isAPIRoute",{enumerable:!0,get:function(){return r}})},2072:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ACTION_SUFFIX:function(){return u},APP_DIR_ALIAS:function(){return k},CACHE_ONE_YEAR:function(){return E},DOT_NEXT_ALIAS:function(){return T},ESLINT_DEFAULT_DIRS:function(){return G},GSP_NO_RETURNED_VALUE:function(){return W},GSSP_COMPONENT_MEMBER_ERROR:function(){return V},GSSP_NO_RETURNED_VALUE:function(){return Y},INFINITE_CACHE:function(){return j},INSTRUMENTATION_HOOK_FILENAME:function(){return R},MATCHED_PATH_HEADER:function(){return a},MIDDLEWARE_FILENAME:function(){return P},MIDDLEWARE_LOCATION_REGEXP:function(){return S},NEXT_BODY_SUFFIX:function(){return f},NEXT_CACHE_IMPLICIT_TAG_ID:function(){return w},NEXT_CACHE_REVALIDATED_TAGS_HEADER:function(){return g},NEXT_CACHE_REVALIDATE_TAG_TOKEN_HEADER:function(){return y},NEXT_CACHE_SOFT_TAG_MAX_LENGTH:function(){return v},NEXT_CACHE_TAGS_HEADER:function(){return m},NEXT_CACHE_TAG_MAX_ITEMS:function(){return x},NEXT_CACHE_TAG_MAX_LENGTH:function(){return _},NEXT_DATA_SUFFIX:function(){return h},NEXT_INTERCEPTION_MARKER_PREFIX:function(){return n},NEXT_META_SUFFIX:function(){return p},NEXT_QUERY_PARAM_PREFIX:function(){return r},NEXT_RESUME_HEADER:function(){return b},NON_STANDARD_NODE_ENV:function(){return q},PAGES_DIR_ALIAS:function(){return N},PRERENDER_REVALIDATE_HEADER:function(){return i},PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER:function(){return o},PUBLIC_DIR_MIDDLEWARE_CONFLICT:function(){return z},ROOT_DIR_ALIAS:function(){return O},RSC_ACTION_CLIENT_WRAPPER_ALIAS:function(){return D},RSC_ACTION_ENCRYPTION_ALIAS:function(){return L},RSC_ACTION_PROXY_ALIAS:function(){return M},RSC_ACTION_VALIDATE_ALIAS:function(){return A},RSC_CACHE_WRAPPER_ALIAS:function(){return I},RSC_MOD_REF_PROXY_ALIAS:function(){return C},RSC_PREFETCH_SUFFIX:function(){return s},RSC_SEGMENTS_DIR_SUFFIX:function(){return l},RSC_SEGMENT_SUFFIX:function(){return c},RSC_SUFFIX:function(){return d},SERVER_PROPS_EXPORT_ERROR:function(){return $},SERVER_PROPS_GET_INIT_PROPS_CONFLICT:function(){return U},SERVER_PROPS_SSG_CONFLICT:function(){return H},SERVER_RUNTIME:function(){return Z},SSG_FALLBACK_EXPORT_ERROR:function(){return K},SSG_GET_INITIAL_PROPS_CONFLICT:function(){return F},STATIC_STATUS_PAGE_GET_INITIAL_PROPS_ERROR:function(){return B},UNSTABLE_REVALIDATE_RENAME_ERROR:function(){return X},WEBPACK_LAYERS:function(){return J},WEBPACK_RESOURCE_QUERIES:function(){return ee}});let r="nxtP",n="nxtI",a="x-matched-path",i="x-prerender-revalidate",o="x-prerender-revalidate-if-generated",s=".prefetch.rsc",l=".segments",c=".segment.rsc",d=".rsc",u=".action",h=".json",p=".meta",f=".body",m="x-next-cache-tags",g="x-next-revalidated-tags",y="x-next-revalidate-tag-token",b="next-resume",x=128,_=256,v=1024,w="_N_T_",E=31536e3,j=0xfffffffe,P="middleware",S=`(?:src/)?${P}`,R="instrumentation",N="private-next-pages",T="private-dot-next",O="private-next-root-dir",k="private-next-app-dir",C="private-next-rsc-mod-ref-proxy",A="private-next-rsc-action-validate",M="private-next-rsc-server-reference",I="private-next-rsc-cache-wrapper",L="private-next-rsc-action-encryption",D="private-next-rsc-action-client-wrapper",z="You can not have a '_next' folder inside of your public folder. This conflicts with the internal '/_next' route. https://nextjs.org/docs/messages/public-next-folder-conflict",F="You can not use getInitialProps with getStaticProps. To use SSG, please remove your getInitialProps",U="You can not use getInitialProps with getServerSideProps. Please remove getInitialProps.",H="You can not use getStaticProps or getStaticPaths with getServerSideProps. To use SSG, please remove getServerSideProps",B="can not have getInitialProps/getServerSideProps, https://nextjs.org/docs/messages/404-get-initial-props",$="pages with `getServerSideProps` can not be exported. See more info here: https://nextjs.org/docs/messages/gssp-export",W="Your `getStaticProps` function did not return an object. Did you forget to add a `return`?",Y="Your `getServerSideProps` function did not return an object. Did you forget to add a `return`?",X="The `unstable_revalidate` property is available for general use.\nPlease use `revalidate` instead.",V="can not be attached to a page's component and must be exported from the page. See more info here: https://nextjs.org/docs/messages/gssp-component-member",q='You are using a non-standard "NODE_ENV" value in your environment. This creates inconsistencies in the project and is strongly advised against. Read more: https://nextjs.org/docs/messages/non-standard-node-env',K="Pages with `fallback` enabled in `getStaticPaths` can not be exported. See more info here: https://nextjs.org/docs/messages/ssg-fallback-true-export",G=["app","pages","components","lib","src"],Z={edge:"edge",experimentalEdge:"experimental-edge",nodejs:"nodejs"},Q={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",apiNode:"api-node",apiEdge:"api-edge",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",pagesDirBrowser:"pages-dir-browser",pagesDirEdge:"pages-dir-edge",pagesDirNode:"pages-dir-node"},J={...Q,GROUP:{builtinReact:[Q.reactServerComponents,Q.actionBrowser],serverOnly:[Q.reactServerComponents,Q.actionBrowser,Q.instrument,Q.middleware],neutralTarget:[Q.apiNode,Q.apiEdge],clientOnly:[Q.serverSideRendering,Q.appPagesBrowser],bundled:[Q.reactServerComponents,Q.actionBrowser,Q.serverSideRendering,Q.appPagesBrowser,Q.shared,Q.instrument,Q.middleware],appPages:[Q.reactServerComponents,Q.serverSideRendering,Q.appPagesBrowser,Q.actionBrowser]}},ee={edgeSSREntry:"__next_edge_ssr_entry__",metadata:"__next_metadata__",metadataRoute:"__next_metadata_route__",metadataImageMeta:"__next_metadata_image_meta__"}},2088:(e,t,r)=>{"use strict";e.exports=r(3885).vendored.contexts.RouterContext},2140:(e,t)=>{"use strict";function r(e,t){if(void 0===t&&(t={}),t.onlyHashChange)return void e();let r=document.documentElement,n=r.style.scrollBehavior;r.style.scrollBehavior="auto",t.dontForceLayout||r.getClientRects(),e(),r.style.scrollBehavior=n}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"handleSmoothScroll",{enumerable:!0,get:function(){return r}})},2417:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getRouteMatcher",{enumerable:!0,get:function(){return a}});let n=r(4718);function a(e){let{re:t,groups:r}=e;return e=>{let a=t.exec(e);if(!a)return!1;let i=e=>{try{return decodeURIComponent(e)}catch(e){throw Object.defineProperty(new n.DecodeError("failed to decode param"),"__NEXT_ERROR_CODE",{value:"E528",enumerable:!1,configurable:!0})}},o={};for(let[e,t]of Object.entries(r)){let r=a[t.pos];void 0!==r&&(t.repeat?o[e]=r.split("/").map(e=>i(e)):o[e]=i(r))}return o}}},2620:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"formatNextPathnameInfo",{enumerable:!0,get:function(){return s}});let n=r(1730),a=r(6655),i=r(8992),o=r(1833);function s(e){let t=(0,o.addLocale)(e.pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix);return(e.buildId||!e.trailingSlash)&&(t=(0,n.removeTrailingSlash)(t)),e.buildId&&(t=(0,i.addPathSuffix)((0,a.addPathPrefix)(t,"/_next/data/"+e.buildId),"/"===e.pathname?"index.json":".json")),t=(0,a.addPathPrefix)(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:(0,i.addPathSuffix)(t,"/"):(0,n.removeTrailingSlash)(t)}},2746:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"normalizeLocalePath",{enumerable:!0,get:function(){return n}});let r=new WeakMap;function n(e,t){let n;if(!t)return{pathname:e};let a=r.get(t);a||(a=t.map(e=>e.toLowerCase()),r.set(t,a));let i=e.split("/",2);if(!i[1])return{pathname:e};let o=i[1].toLowerCase(),s=a.indexOf(o);return s<0?{pathname:e}:(n=t[s],{pathname:e=e.slice(n.length+1)||"/",detectedLocale:n})}},2792:(e,t,r)=>{"use strict";r.d(t,{A:()=>f});var n=r(8732),a=r(2015),i=r(2326),o=r.n(i),s=r(5887),l=r(2770),c=r.n(l);let d=c().div`
  position: absolute;
  background: rgba(241, 245, 249, 0.3); /* 약간의 투명도 추가 */
  border: 1px solid #ccc;
  border-radius: 8px;
  box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
  overflow: hidden;
  z-index: 2000;
`,u=c().div`
  background: rgba(30, 58, 138, 0.7); /* 약간의 투명도 추가 */
  padding: 8px;
  display: flex;
  justify-content: flex-end;
  border-bottom: 1px solid #ccc;
  cursor: grab; /* 드래그 가능 표시 */

  button {
    background: rgba(128, 0, 32, 0.8); /* 약간의 투명도 추가 */
    color: white;
    border: none;
    padding: 4px 8px;
    border-radius: 4px;
    cursor: pointer;

    &:hover {
      background: rgba(165, 42, 42, 0.8); /* 약간의 투명도 추가 */
    }
  }
`,h=c().div`
  background: rgba(241, 245, 249, 0.6); /* 약간의 투명도 추가 */
  overflow: auto;
  height: calc(100%); /* 헤더 높이를 제외한 영역 */
`,p=c().div`
  position: absolute;
  bottom: 0;
  right: 0;
  width: 20px;
  height: 16px;
  background: rgba(204, 204, 204, 0.6); /* 약간의 투명도 추가 */
  cursor: se-resize;
`,f=({onClose:e,children:t})=>{let[r,i]=(0,a.useState)({width:380,height:850,top:(window.innerHeight-850)/2,left:(window.innerWidth-380)/2}),[l,c]=(0,a.useState)(!1),[f,m]=(0,a.useState)(null);(0,a.useEffect)(()=>{let e=()=>{window.innerWidth<=768?i({width:.9*window.innerWidth,height:.8*window.innerHeight,top:.1*window.innerHeight/2,left:.1*window.innerWidth/2}):i({width:380,height:850,top:(window.innerHeight-850)/2,left:(window.innerWidth-380)/2})};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);let g=e=>{if(l&&f){let t=e.clientX-f.x,r=e.clientY-f.y;i(e=>({...e,top:r,left:t}))}},y=()=>{c(!1),m(null)};return(0,a.useEffect)(()=>(l?(document.addEventListener("mousemove",g),document.addEventListener("mouseup",y)):(document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",y)),()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",y)}),[l]),o().createPortal((0,n.jsxs)(d,{style:{width:r.width,height:r.height,top:r.top,left:r.left},children:[(0,n.jsx)(u,{onMouseDown:e=>{c(!0),m({x:e.clientX-r.left,y:e.clientY-r.top})},children:(0,n.jsx)("button",{onClick:e,children:(0,n.jsx)(s.yGN,{})})}),(0,n.jsx)(h,{children:t}),(0,n.jsx)(p,{onMouseDown:e=>{let t=r.width,n=r.height,a=e.clientX,o=e.clientY,s=e=>{let r=t+(e.clientX-a),s=n+(e.clientY-o);i(e=>({...e,width:Math.max(r,150),height:Math.max(s,100)}))},l=()=>{document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",l)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",l)},onDoubleClick:()=>{i(e=>({...e,width:380,height:425}))}})]}),document.body)}},2848:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{formatUrl:function(){return i},formatWithValidation:function(){return s},urlObjectKeys:function(){return o}});let n=r(3147)._(r(7536)),a=/https?|ftp|gopher|file/;function i(e){let{auth:t,hostname:r}=e,i=e.protocol||"",o=e.pathname||"",s=e.hash||"",l=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:r&&(c=t+(~r.indexOf(":")?"["+r+"]":r),e.port&&(c+=":"+e.port)),l&&"object"==typeof l&&(l=String(n.urlQueryToSearchParams(l)));let d=e.search||l&&"?"+l||"";return i&&!i.endsWith(":")&&(i+=":"),e.slashes||(!i||a.test(i))&&!1!==c?(c="//"+(c||""),o&&"/"!==o[0]&&(o="/"+o)):c||(c=""),s&&"#"!==s[0]&&(s="#"+s),d&&"?"!==d[0]&&(d="?"+d),""+i+c+(o=o.replace(/[?#]/g,encodeURIComponent))+(d=d.replace("#","%23"))+s}let o=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function s(e){return i(e)}},3045:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{compileNonPath:function(){return d},matchHas:function(){return c},parseDestination:function(){return u},prepareDestination:function(){return h}});let n=r(1791),a=r(8900),i=r(6898),o=r(6580),s=r(4445);function l(e){return e.replace(/__ESC_COLON_/gi,":")}function c(e,t,r,n){void 0===r&&(r=[]),void 0===n&&(n=[]);let a={},i=r=>{let n,i=r.key;switch(r.type){case"header":i=i.toLowerCase(),n=e.headers[i];break;case"cookie":n="cookies"in e?e.cookies[r.key]:(0,s.getCookieParser)(e.headers)()[r.key];break;case"query":n=t[i];break;case"host":{let{host:t}=(null==e?void 0:e.headers)||{};n=null==t?void 0:t.split(":",1)[0].toLowerCase()}}if(!r.value&&n)return a[function(e){let t="";for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);(n>64&&n<91||n>96&&n<123)&&(t+=e[r])}return t}(i)]=n,!0;if(n){let e=RegExp("^"+r.value+"$"),t=Array.isArray(n)?n.slice(-1)[0].match(e):n.match(e);if(t)return Array.isArray(t)&&(t.groups?Object.keys(t.groups).forEach(e=>{a[e]=t.groups[e]}):"host"===r.type&&t[0]&&(a.host=t[0])),!0}return!1};return!(!r.every(e=>i(e))||n.some(e=>i(e)))&&a}function d(e,t){if(!e.includes(":"))return e;for(let r of Object.keys(t))e.includes(":"+r)&&(e=e.replace(RegExp(":"+r+"\\*","g"),":"+r+"--ESCAPED_PARAM_ASTERISKS").replace(RegExp(":"+r+"\\?","g"),":"+r+"--ESCAPED_PARAM_QUESTION").replace(RegExp(":"+r+"\\+","g"),":"+r+"--ESCAPED_PARAM_PLUS").replace(RegExp(":"+r+"(?!\\w)","g"),"--ESCAPED_PARAM_COLON"+r));return e=e.replace(/(:|\*|\?|\+|\(|\)|\{|\})/g,"\\$1").replace(/--ESCAPED_PARAM_PLUS/g,"+").replace(/--ESCAPED_PARAM_COLON/g,":").replace(/--ESCAPED_PARAM_QUESTION/g,"?").replace(/--ESCAPED_PARAM_ASTERISKS/g,"*"),(0,n.compile)("/"+e,{validate:!1})(t).slice(1)}function u(e){let t=e.destination;for(let r of Object.keys({...e.params,...e.query}))r&&(t=t.replace(RegExp(":"+(0,a.escapeStringRegexp)(r),"g"),"__ESC_COLON_"+r));let r=(0,i.parseUrl)(t),n=r.pathname;n&&(n=l(n));let o=r.href;o&&(o=l(o));let s=r.hostname;s&&(s=l(s));let c=r.hash;return c&&(c=l(c)),{...r,pathname:n,hostname:s,href:o,hash:c}}function h(e){let t,r,a=Object.assign({},e.query),i=u(e),{hostname:s,query:c}=i,h=i.pathname;i.hash&&(h=""+h+i.hash);let p=[],f=[];for(let e of((0,n.pathToRegexp)(h,f),f))p.push(e.name);if(s){let e=[];for(let t of((0,n.pathToRegexp)(s,e),e))p.push(t.name)}let m=(0,n.compile)(h,{validate:!1});for(let[r,a]of(s&&(t=(0,n.compile)(s,{validate:!1})),Object.entries(c)))Array.isArray(a)?c[r]=a.map(t=>d(l(t),e.params)):"string"==typeof a&&(c[r]=d(l(a),e.params));let g=Object.keys(e.params).filter(e=>"nextInternalLocale"!==e);if(e.appendParamsToQuery&&!g.some(e=>p.includes(e)))for(let t of g)t in c||(c[t]=e.params[t]);if((0,o.isInterceptionRouteAppPath)(h))for(let t of h.split("/")){let r=o.INTERCEPTION_ROUTE_MARKERS.find(e=>t.startsWith(e));if(r){"(..)(..)"===r?(e.params["0"]="(..)",e.params["1"]="(..)"):e.params["0"]=r;break}}try{let[n,a]=(r=m(e.params)).split("#",2);t&&(i.hostname=t(e.params)),i.pathname=n,i.hash=(a?"#":"")+(a||""),delete i.search}catch(e){if(e.message.match(/Expected .*? to not repeat, but got an array/))throw Object.defineProperty(Error("To use a multi-match in the destination you must add `*` at the end of the param name to signify it should repeat. https://nextjs.org/docs/messages/invalid-multi-match"),"__NEXT_ERROR_CODE",{value:"E329",enumerable:!1,configurable:!0});throw e}return i.query={...a,...i.query},{newUrl:r,destQuery:c,parsedDestination:i}}},3147:(e,t)=>{"use strict";function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}t._=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}},3314:(e,t,r)=>{"use strict";r.a(e,async(e,n)=>{try{r.d(t,{m:()=>p});var a=r(8732),i=r(2015),o=r(1342),s=r(7247),l=r(5996),c=r(8866),d=r(4822),u=r(7843),h=e([l,c,u]);[l,c,u]=h.then?(await h)():h;let p=(0,i.memo)(({id:e,user_id:t,user_name:r,title:n,type:i,nationality:h,ethnicity:p,migration_year:f,end_year:m,latitude:g,longitude:y,connections:b,edges:x,migration_traces:_,setFocusedNode:v,handleEntityClick:w,handleMigrationTraceClick:E,handleEdgeClick:j,handleNetworkEdgesToggle:P})=>{let S=(0,l.A)(e=>e.updateEditedNetwork),{deleteNetworkMutation:R}=(0,c.Q)(),N=(0,d.useNavigate)(),T=(0,d.useLocation)(),{t:O}=(0,u.useTranslation)(),{user:k}=(0,l.A)();return(0,a.jsxs)("li",{className:"my-3 px-2 py-2 bg-[#f2f2f2] rounded shadow-md text-xs w-full max-w-lg",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center w-full max-w-lg",children:[(0,a.jsxs)("span",{className:"text-xs font-bold block p-4 border rounded-lg hover:bg-gray-100 transition-all cursor-pointer w-full sm:w-auto",onClick:()=>"/network"!==T.pathname?(v({lat:g,lng:y}),w(e)):null,children:["No.",e," : ",n]}),(0,a.jsxs)("span",{className:"font-bold text-xs flex justify-between items-center",children:[O("Creator Name")," : ",r]}),t===k.id?(0,a.jsxs)("div",{className:"flex ml-4",children:[(0,a.jsx)(o.A,{className:"h-4 w-4 mx-1 text-blue-500 cursor-pointer",onClick:()=>{S({id:e,title:n,type:i,nationality:h,ethnicity:p,migration_year:f,end_year:m,latitude:g,longitude:y,connections:b,edge:x,migration_traces:_,user_id:0}),window.location.href.includes("network")?window.scrollTo({top:document.body.scrollHeight,behavior:"instant"}):N("/network")}}),(0,a.jsx)(s.A,{className:"h-4 w-4 text-red-500 cursor-pointer",onClick:()=>{window.confirm(`Are you sure you want to delete "${n}"?`)&&R.mutate(e)}})]}):(0,a.jsx)("div",{className:"flex ml-4"})]}),(0,a.jsxs)("div",{className:"mt-2 overflow-x-auto",children:[(0,a.jsxs)("table",{className:"table-auto w-full mt-2 border-collapse text-xs",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-1 py-1 border font-semibold text-center",children:O("Type")}),(0,a.jsx)("th",{className:"px-1 py-1 border font-semibold text-center",children:O("Nationality")}),(0,a.jsx)("th",{className:"px-1 py-1 border font-semibold text-center",children:O("Ethnicity")}),(0,a.jsx)("th",{className:"px-1 py-1 border font-semibold text-center",children:O("Person"===i?"Birth":"Established")}),(0,a.jsx)("th",{className:"px-1 py-1 border font-semibold text-center",children:O("Person"===i?"Death":"Dissolved")}),(0,a.jsx)("th",{className:"px-1 py-1 border font-semibold text-center",children:O("Lat.")}),(0,a.jsx)("th",{className:"px-1 py-1 border font-semibold text-center",children:O("Long.")})]})}),(0,a.jsx)("tbody",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-1 py-1 border text-center",children:i}),(0,a.jsx)("td",{className:"px-1 py-1 border text-center truncate",children:h}),(0,a.jsx)("td",{className:"px-1 py-1 border text-center truncate",children:p}),(0,a.jsx)("td",{className:"px-1 py-1 border text-center",children:f}),(0,a.jsx)("td",{className:"px-1 py-1 border text-center",children:m}),(0,a.jsx)("td",{className:"px-1 py-1 border text-center truncate",children:g.toFixed(5)}),(0,a.jsx)("td",{className:"px-1 py-1 border text-center truncate",children:y.toFixed(5)})]})})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("div",{className:"text-xs font-bold block p-4 border rounded-lg hover:bg-gray-100 transition-all cursor-pointer",onClick:()=>P(e),children:(0,a.jsx)("strong",{children:O("Edges")})}),x?.length>0?(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsxs)("table",{className:"table-auto w-full mt-2 border-collapse text-xs",children:[(0,a.jsx)("thead",{className:"cursor-pointer hover:bg-gray-100",onClick:()=>j(e),children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-2 py-1 border font-semibold text-center",children:O("Target ID")}),(0,a.jsx)("th",{className:"px-2 py-1 border font-semibold text-center",children:O("Target Type")}),(0,a.jsx)("th",{className:"px-2 py-1 border font-semibold text-center",children:O("Strength")}),(0,a.jsx)("th",{className:"px-2 py-1 border font-semibold text-center",children:O("Connection Type")}),(0,a.jsx)("th",{className:"px-2 py-1 border font-semibold text-center",children:O("Year")})]})}),(0,a.jsx)("tbody",{children:x.map((e,t)=>(0,a.jsxs)("tr",{className:"cursor-pointer hover:bg-gray-100",onClick:()=>j(e.targetId),children:[(0,a.jsx)("td",{className:"px-2 py-1 border text-center",children:e.targetId}),(0,a.jsx)("td",{className:"px-2 py-1 border text-center",children:e.targetType}),(0,a.jsx)("td",{className:"px-2 py-1 border text-center",children:e.strength}),(0,a.jsx)("td",{className:"px-2 py-1 border text-center",children:e.edgeType}),(0,a.jsx)("td",{className:"px-2 py-1 border text-center",children:e.year})]},e.targetId))})]})}):(0,a.jsx)("p",{className:"text-xs",children:O("No edges available.")})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("div",{className:"text-xs font-bold block p-4 border rounded-lg hover:bg-gray-100 transition-all cursor-pointer",onClick:()=>E(e),children:(0,a.jsx)("strong",{children:O("Migration Trace")})}),_&&_.length>0?(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsxs)("table",{className:"table-auto w-full border-collapse text-xs",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-2 py-1 border font-semibold text-center",children:O("Location")}),(0,a.jsx)("th",{className:"px-2 py-1 border font-semibold text-center",children:O("Longitude")}),(0,a.jsx)("th",{className:"px-2 py-1 border font-semibold text-center",children:O("Latitude")}),(0,a.jsx)("th",{className:"px-2 py-1 border font-semibold text-center",children:O("Year")}),(0,a.jsx)("th",{className:"px-2 py-1 border font-semibold text-center",children:O("Reason")})]})}),(0,a.jsx)("tbody",{children:_.map((t,r)=>(0,a.jsxs)("tr",{className:"cursor-pointer hover:bg-gray-100",onClick:()=>E(e),children:[(0,a.jsx)("td",{className:"px-2 py-1 border text-center",children:t.location_name}),(0,a.jsx)("td",{className:"px-2 py-1 border text-center",children:t.longitude}),(0,a.jsx)("td",{className:"px-2 py-1 border text-center",children:t.latitude}),(0,a.jsx)("td",{className:"px-2 py-1 border text-center",children:t.migration_year}),(0,a.jsx)("td",{className:"px-2 py-1 border text-center",children:t.reason})]},r))})]})}):(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)("p",{className:"text-xs",children:O("No migration traces available.")})})]})]})]})});n()}catch(e){n(e)}})},3448:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"detectDomainLocale",{enumerable:!0,get:function(){return r}});let r=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r]};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3484:e=>{(()=>{"use strict";"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab=__dirname+"/");var t={};(()=>{t.parse=function(t,r){if("string"!=typeof t)throw TypeError("argument str must be a string");for(var a={},i=t.split(n),o=(r||{}).decode||e,s=0;s<i.length;s++){var l=i[s],c=l.indexOf("=");if(!(c<0)){var d=l.substr(0,c).trim(),u=l.substr(++c,l.length).trim();'"'==u[0]&&(u=u.slice(1,-1)),void 0==a[d]&&(a[d]=function(e,t){try{return t(e)}catch(t){return e}}(u,o))}}return a},t.serialize=function(e,t,n){var i=n||{},o=i.encode||r;if("function"!=typeof o)throw TypeError("option encode is invalid");if(!a.test(e))throw TypeError("argument name is invalid");var s=o(t);if(s&&!a.test(s))throw TypeError("argument val is invalid");var l=e+"="+s;if(null!=i.maxAge){var c=i.maxAge-0;if(isNaN(c)||!isFinite(c))throw TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(c)}if(i.domain){if(!a.test(i.domain))throw TypeError("option domain is invalid");l+="; Domain="+i.domain}if(i.path){if(!a.test(i.path))throw TypeError("option path is invalid");l+="; Path="+i.path}if(i.expires){if("function"!=typeof i.expires.toUTCString)throw TypeError("option expires is invalid");l+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(l+="; HttpOnly"),i.secure&&(l+="; Secure"),i.sameSite)switch("string"==typeof i.sameSite?i.sameSite.toLowerCase():i.sameSite){case!0:case"strict":l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"none":l+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return l};var e=decodeURIComponent,r=encodeURIComponent,n=/; */,a=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/})(),e.exports=t})()},3563:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"interpolateAs",{enumerable:!0,get:function(){return i}});let n=r(2417),a=r(3898);function i(e,t,r){let i="",o=(0,a.getRouteRegex)(e),s=o.groups,l=(t!==e?(0,n.getRouteMatcher)(o)(t):"")||r;i=e;let c=Object.keys(s);return c.every(e=>{let t=l[e]||"",{repeat:r,optional:n}=s[e],a="["+(r?"...":"")+e+"]";return n&&(a=(t?"":"/")+"["+a+"]"),r&&!Array.isArray(t)&&(t=[t]),(n||e in l)&&(i=i.replace(a,r?t.map(e=>encodeURIComponent(e)).join("/"):encodeURIComponent(t))||"/")})||(i=""),{params:c,result:i}}},3849:(e,t,r)=>{"use strict";r.a(e,async(e,n)=>{try{r.d(t,{A:()=>c});var a=r(2015),i=r(7173),o=r(5165),s=r.n(o);r(37);var l=e([i]);i=(l.then?(await l)():l)[0];let c=({positions:e,patterns:t})=>{let r=(0,i.useMap)();return(0,a.useEffect)(()=>{if(!r||!e||e.length<2)return;let n=s().polyline(e),a=s().polylineDecorator(n,{patterns:t});return a.addTo(r),()=>{r.removeLayer(a)}},[r,e,t]),null};n()}catch(e){n(e)}})},3898:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getNamedMiddlewareRegex:function(){return m},getNamedRouteRegex:function(){return f},getRouteRegex:function(){return u},parseParameter:function(){return l}});let n=r(2072),a=r(6580),i=r(8900),o=r(1730),s=/^([^[]*)\[((?:\[[^\]]*\])|[^\]]+)\](.*)$/;function l(e){let t=e.match(s);return t?c(t[2]):c(e)}function c(e){let t=e.startsWith("[")&&e.endsWith("]");t&&(e=e.slice(1,-1));let r=e.startsWith("...");return r&&(e=e.slice(3)),{key:e,repeat:r,optional:t}}function d(e,t,r){let n={},l=1,d=[];for(let u of(0,o.removeTrailingSlash)(e).slice(1).split("/")){let e=a.INTERCEPTION_ROUTE_MARKERS.find(e=>u.startsWith(e)),o=u.match(s);if(e&&o&&o[2]){let{key:t,optional:r,repeat:a}=c(o[2]);n[t]={pos:l++,repeat:a,optional:r},d.push("/"+(0,i.escapeStringRegexp)(e)+"([^/]+?)")}else if(o&&o[2]){let{key:e,repeat:t,optional:a}=c(o[2]);n[e]={pos:l++,repeat:t,optional:a},r&&o[1]&&d.push("/"+(0,i.escapeStringRegexp)(o[1]));let s=t?a?"(?:/(.+?))?":"/(.+?)":"/([^/]+?)";r&&o[1]&&(s=s.substring(1)),d.push(s)}else d.push("/"+(0,i.escapeStringRegexp)(u));t&&o&&o[3]&&d.push((0,i.escapeStringRegexp)(o[3]))}return{parameterizedRoute:d.join(""),groups:n}}function u(e,t){let{includeSuffix:r=!1,includePrefix:n=!1,excludeOptionalTrailingSlash:a=!1}=void 0===t?{}:t,{parameterizedRoute:i,groups:o}=d(e,r,n),s=i;return a||(s+="(?:/)?"),{re:RegExp("^"+s+"$"),groups:o}}function h(e){let t,{interceptionMarker:r,getSafeRouteKey:n,segment:a,routeKeys:o,keyPrefix:s,backreferenceDuplicateKeys:l}=e,{key:d,optional:u,repeat:h}=c(a),p=d.replace(/\W/g,"");s&&(p=""+s+p);let f=!1;(0===p.length||p.length>30)&&(f=!0),isNaN(parseInt(p.slice(0,1)))||(f=!0),f&&(p=n());let m=p in o;s?o[p]=""+s+d:o[p]=d;let g=r?(0,i.escapeStringRegexp)(r):"";return t=m&&l?"\\k<"+p+">":h?"(?<"+p+">.+?)":"(?<"+p+">[^/]+?)",u?"(?:/"+g+t+")?":"/"+g+t}function p(e,t,r,l,c){let d,u=(d=0,()=>{let e="",t=++d;for(;t>0;)e+=String.fromCharCode(97+(t-1)%26),t=Math.floor((t-1)/26);return e}),p={},f=[];for(let d of(0,o.removeTrailingSlash)(e).slice(1).split("/")){let e=a.INTERCEPTION_ROUTE_MARKERS.some(e=>d.startsWith(e)),o=d.match(s);if(e&&o&&o[2])f.push(h({getSafeRouteKey:u,interceptionMarker:o[1],segment:o[2],routeKeys:p,keyPrefix:t?n.NEXT_INTERCEPTION_MARKER_PREFIX:void 0,backreferenceDuplicateKeys:c}));else if(o&&o[2]){l&&o[1]&&f.push("/"+(0,i.escapeStringRegexp)(o[1]));let e=h({getSafeRouteKey:u,segment:o[2],routeKeys:p,keyPrefix:t?n.NEXT_QUERY_PARAM_PREFIX:void 0,backreferenceDuplicateKeys:c});l&&o[1]&&(e=e.substring(1)),f.push(e)}else f.push("/"+(0,i.escapeStringRegexp)(d));r&&o&&o[3]&&f.push((0,i.escapeStringRegexp)(o[3]))}return{namedParameterizedRoute:f.join(""),routeKeys:p}}function f(e,t){var r,n,a;let i=p(e,t.prefixRouteKeys,null!=(r=t.includeSuffix)&&r,null!=(n=t.includePrefix)&&n,null!=(a=t.backreferenceDuplicateKeys)&&a),o=i.namedParameterizedRoute;return t.excludeOptionalTrailingSlash||(o+="(?:/)?"),{...u(e,t),namedRegex:"^"+o+"$",routeKeys:i.routeKeys}}function m(e,t){let{parameterizedRoute:r}=d(e,!1,!1),{catchAll:n=!0}=t;if("/"===r)return{namedRegex:"^/"+(n?".*":"")+"$"};let{namedParameterizedRoute:a}=p(e,!1,!1,!1,!1);return{namedRegex:"^"+a+(n?"(?:(/.*)?)":"")+"$"}}},3910:(e,t,r)=>{"use strict";r.d(t,{h:()=>a});var n=r(8164);let a=(e,t,r)=>{let a=[],i=e.length,o=t.length,s=(0,n.O)(e,"degree"),l=Math.max(...Object.values(s)),c=Object.values(s).reduce((e,t)=>e+t,0)/i;l>.3*i&&a.push("Hub-Dominated Network"),a.push(`Average Degree Centrality: ${c.toFixed(2)}`);let d=o/(i*(i-1)/2);d>.5?a.push("Dense Network"):d<.1&&a.push("Sparse Network"),a.push(`Network Density: ${d.toFixed(2)}`);let u=r.length;return a.push(`Average Traces Per Node: ${(u/i).toFixed(2)}`),a}},3949:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}}),r(7020);let n=r(8732);r(2015);let a=r(5306);function i(e){function t(t){return(0,n.jsx)(e,{router:(0,a.useRouter)(),...t})}return t.getInitialProps=e.getInitialProps,t.origGetInitialProps=e.origGetInitialProps,t}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},4021:(e,t,r)=>{"use strict";r.a(e,async(e,n)=>{try{r.d(t,{A:()=>c});var a=r(7173),i=r(2015),o=r(5165),s=r.n(o),l=e([a]);a=(l.then?(await l)():l)[0];let c=({traces:e})=>{let t=(0,a.useMap)(),r=(0,i.useRef)(null);return(0,i.useEffect)(()=>{if(!e||e.length<2)return;let n=s().layerGroup(),a=[];e.slice(0,-1).forEach((t,r)=>{let a=e[r+1];if(t.network_id!==a.network_id)return;if(!t||!a||!t.latitude||!t.longitude||!a.latitude||!a.longitude)return void console.warn("Invalid trace data:",{trace:t,nextTrace:a});let i=s().polyline([[t.latitude,t.longitude],[a.latitude,a.longitude]],{color:"#1976d2",weight:3,opacity:.8,dashArray:"5, 5"}),o=s().polylineDecorator(i,{patterns:[{offset:"50%",repeat:0,symbol:s().Symbol.arrowHead({pixelSize:15,polygon:!0,headAngle:45,pathOptions:{fillOpacity:1,weight:0,color:"#FF0000"}})}]});n.addLayer(i),n.addLayer(o)}),n.addTo(t);let i=0,o=()=>{i=(i+1)%100,a.forEach(({decorator:e})=>{e.setPatterns([{offset:`${i}%`,repeat:"10%",symbol:s().Symbol.dash({pixelSize:10,pathOptions:{color:"#FF0000",weight:2}})}])}),r.current=requestAnimationFrame(o)};return o(),()=>{r.current&&cancelAnimationFrame(r.current),n.clearLayers(),t.removeLayer(n)}},[t,e]),null};n()}catch(e){n(e)}})},4036:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getPathMatch",{enumerable:!0,get:function(){return a}});let n=r(1791);function a(e,t){let r=[],a=(0,n.pathToRegexp)(e,r,{delimiter:"/",sensitive:"boolean"==typeof(null==t?void 0:t.sensitive)&&t.sensitive,strict:null==t?void 0:t.strict}),i=(0,n.regexpToFunction)((null==t?void 0:t.regexModifier)?new RegExp(t.regexModifier(a.source),a.flags):a,r);return(e,n)=>{if("string"!=typeof e)return!1;let a=i(e);if(!a)return!1;if(null==t?void 0:t.removeUnnamedParams)for(let e of r)"number"==typeof e.name&&delete a.params[e.name];return{...n,...a.params}}}},4233:(e,t,r)=>{e.exports=r(5306)},4378:(e,t,r)=>{"use strict";r.a(e,async(e,n)=>{try{r.d(t,{A:()=>l});var a=r(8732),i=r(3977),o=r(2015),s=e([i]);i=(s.then?(await s)():s)[0];let l=({onSearch:e})=>{let[t,r]=(0,o.useState)("");return(0,a.jsxs)("div",{className:"w-full flex items-center gap-2",children:[" ",(0,a.jsx)("input",{type:"text",placeholder:(0,i.t)("Search Networks"),value:t,onChange:e=>{let t=e.target.value;r(t)},onKeyDown:n=>{"Enter"===n.key?e(t):"Escape"===n.key&&(r(""),e(""))},className:"w-full p-1 border rounded text-sm focus:outline-none focus:ring-2 focus:ring-amber-500"}),(0,a.jsx)("button",{onClick:()=>e(t),className:"px-4 py-1 bg-amber-700 text-white rounded hover:bg-amber-900 focus:outline-none focus:ring-2 focus:ring-amber-500",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-4.35-4.35m1.94-7.15a7.5 7.5 0 11-15 0 7.5 7.5 0 0115 0z"})})})]})};n()}catch(e){n(e)}})},4396:(e,t,r)=>{"use strict";r.a(e,async(e,n)=>{try{r.d(t,{s:()=>h});var a=r(8732),i=r(5165),o=r.n(i),s=r(2015),l=r(7843),c=r(7173),d=e([l,c]);[l,c]=d.then?(await d)():d;let u=`
  background-color: rgba(255, 255, 255, 0.7);
  padding: 7px;
  top: 0;
  right: 1rem;
  border-radius: 0.5rem;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  font-size: 0.7rem;
  max-width: 10rem;
  overflow-y: auto;
  h2 {
    font-size: 1rem;
    margin-bottom: 0.3rem;
    text-align: center;
    font-weight: bold;
  }
  div {
    font-size: 0.8rem;
    margin-bottom: 0.2rem;
  }
  @media (max-width: 768px) {
    font-size: 0.7rem;
    max-width: 8rem;
    h2 {
      font-size: 0.9rem;
    }
    div {
      font-size: 0.8rem;
    }
  }
  @media (max-width: 480px) {
    font-size: 0.4rem;
    max-width: 7rem;
    h2 {
      font-size: 0.7rem;
    }
    div {
      font-size: 0.7rem;
    }
  }
`,h=({topNetworks:e,onEntityClick:t,centralityType:r,networkAnalysis:n})=>{let i=(0,c.useMap)(),{t:d}=(0,l.useTranslation)();return(0,s.useEffect)(()=>{let a=new(o()).Control({position:"topright"});return a.onAdd=()=>{let a=o().DomUtil.create("div","legend-container");if(a.style.cssText=u,a.innerHTML=`
      <div style="display: flex; align-items: center; margin-bottom: 7px;">
        <div style="width: 28px; height: 0; border-top: 4px dashed #ff9800; margin: 0 8px; vertical-align: middle;"></div>
        <span style="color:#e65100; font-weight:600;">${d("Connections")}</span>
      </div>
      <div style="display: flex; align-items: center; margin-bottom: 7px;">
        <div style="width: 28px; height: 0; border-top: 4px dashed #1976d2; margin: 0 8px; vertical-align: middle;"></div>
        <span style="color:#1976d2; font-weight:600;">${d("Mobility")}</span>
      </div>
    `,"none"!==r){let t=e.map((e,t)=>`<div style="cursor: pointer;" data-id="${e.id}">
              ${t+1}. ${e.name}: ${e.centrality.toFixed(2)}
            </div>`).join("");a.innerHTML+=`<br><strong>${d("topEntities")}</strong><br>${t}`;let r=n.map(e=>`<div>${e}</div>`).join("");a.innerHTML+=`<br><strong>${d("Analysis Results")}</strong><br>${r}`}return a.addEventListener("click",e=>{let r=e.target.getAttribute("data-id");r&&t(Number(r))}),a},a.addTo(i),()=>{a.remove()}},[i,d,e,r,t,n]),(0,a.jsxs)("div",{className:"legend-container",style:{backgroundColor:"rgba(255, 255, 255, 0.7)",padding:"7px",top:0,right:"1rem",borderRadius:"0.5rem",boxShadow:"0 0 10px rgba(0, 0, 0, 0.1)",fontSize:"0.7rem",maxWidth:"10rem",overflowY:"auto"},children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"7px"},children:[(0,a.jsx)("div",{style:{width:"28px",height:0,borderTop:"4px dashed #ff9800",margin:"0 8px",verticalAlign:"middle"}}),(0,a.jsx)("span",{style:{color:"#e65100",fontWeight:600},children:d("Connections")})]}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"7px"},children:[(0,a.jsx)("div",{style:{width:"28px",height:0,borderTop:"4px dashed #1976d2",margin:"0 8px",verticalAlign:"middle"}}),(0,a.jsx)("span",{style:{color:"#1976d2",fontWeight:600},children:d("Mobility")})]}),"none"!==r&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("br",{}),(0,a.jsx)("strong",{children:d("topEntities")}),(0,a.jsx)("br",{}),e.map((e,r)=>(0,a.jsxs)("div",{style:{cursor:"pointer"},onClick:()=>t(e.id),children:[r+1,". ",e.name,": ",e.centrality.toFixed(2)]},e.id)),(0,a.jsx)("br",{}),(0,a.jsx)("strong",{children:d("Analysis Results")}),(0,a.jsx)("br",{}),n.map((e,t)=>(0,a.jsx)("div",{children:e},t))]})]})};n()}catch(e){n(e)}})},4445:(e,t,r)=>{"use strict";function n(e){return function(){let{cookie:t}=e;if(!t)return{};let{parse:n}=r(3484);return n(Array.isArray(t)?t.join("; "):t)}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getCookieParser",{enumerable:!0,get:function(){return n}})},4695:(e,t,r)=>{"use strict";r.a(e,async(e,n)=>{try{r.d(t,{TQ:()=>c,zL:()=>l});var a=r(1428),i=r(8462),o=r(8924),s=e([a,i,o]);[a,i,o]=s.then?(await s)():s;let l=()=>{let{switchErrorHandling:e}=(0,o.q)(),t=async()=>{let{data:e}=await a.default.get("http://localhost:8080/networks/map",{withCredentials:!0});return e};return(0,i.useQuery)({queryKey:["networks"],queryFn:t,staleTime:1/0,onError:t=>{t.response.data.message?e(t.response.data.message):e(t.response.data)}})},c=(e,t)=>{let{switchErrorHandling:r}=(0,o.q)(),n=async()=>{let{data:r}=await a.default.get("http://localhost:8080/networks/search",{params:{searchQuery:e,page:t},withCredentials:!0});return r};return(0,i.useQuery)({queryKey:["searchNetworks",e,t],queryFn:n,staleTime:1/0,onError:e=>{e.response?.data?.message?r(e.response.data.message):r(e.response.data)}})};n()}catch(e){n(e)}})},4828:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{createKey:function(){return $},default:function(){return X},matchesMiddleware:function(){return I}});let n=r(7020),a=r(3147),i=r(1730),o=r(9320),s=r(1484),l=a._(r(1644)),c=r(1749),d=r(2746),u=n._(r(1217)),h=r(4718),p=r(229),f=r(5939);r(1027);let m=r(2417),g=r(3898),y=r(2848);r(3448);let b=r(6290),x=r(1169),_=r(7980),v=r(367),w=r(6092),E=r(617),j=r(6231),P=r(1918),S=r(9705),R=r(2620),N=r(7145),T=r(651);r(7825);let O=r(8410),k=r(3563),C=r(2140),A=r(2072);function M(){return Object.assign(Object.defineProperty(Error("Route Cancelled"),"__NEXT_ERROR_CODE",{value:"E315",enumerable:!1,configurable:!0}),{cancelled:!0})}async function I(e){let t=await Promise.resolve(e.router.pageLoader.getMiddleware());if(!t)return!1;let{pathname:r}=(0,b.parsePath)(e.asPath),n=(0,E.hasBasePath)(r)?(0,v.removeBasePath)(r):r,a=(0,w.addBasePath)((0,x.addLocale)(n,e.locale));return t.some(e=>new RegExp(e.regexp).test(a))}function L(e){let t=(0,h.getLocationOrigin)();return e.startsWith(t)?e.substring(t.length):e}function D(e,t,r){let[n,a]=(0,j.resolveHref)(e,t,!0),i=(0,h.getLocationOrigin)(),o=n.startsWith(i),s=a&&a.startsWith(i);n=L(n),a=a?L(a):a;let l=o?n:(0,w.addBasePath)(n),c=r?L((0,j.resolveHref)(e,r)):a||n;return{url:l,as:s?c:(0,w.addBasePath)(c)}}function z(e,t){let r=(0,i.removeTrailingSlash)((0,c.denormalizePagePath)(e));return"/404"===r||"/_error"===r?e:(t.includes(r)||t.some(t=>{if((0,p.isDynamicRoute)(t)&&(0,g.getRouteRegex)(t).re.test(r))return e=t,!0}),(0,i.removeTrailingSlash)(e))}async function F(e){if(!await I(e)||!e.fetchData)return null;let t=await e.fetchData(),r=await function(e,t,r){let n={basePath:r.router.basePath,i18n:{locales:r.router.locales},trailingSlash:!1},a=t.headers.get("x-nextjs-rewrite"),s=a||t.headers.get("x-nextjs-matched-path"),l=t.headers.get(A.MATCHED_PATH_HEADER);if(!l||s||l.includes("__next_data_catchall")||l.includes("/_error")||l.includes("/404")||(s=l),s){if(s.startsWith("/")){let t=(0,f.parseRelativeUrl)(s),l=(0,S.getNextPathnameInfo)(t.pathname,{nextConfig:n,parseData:!0}),c=(0,i.removeTrailingSlash)(l.pathname);return Promise.all([r.router.pageLoader.getPageList(),(0,o.getClientBuildManifest)()]).then(i=>{let[o,{__rewrites:s}]=i,u=(0,x.addLocale)(l.pathname,l.locale);if((0,p.isDynamicRoute)(u)||!a&&o.includes((0,d.normalizeLocalePath)((0,v.removeBasePath)(u),r.router.locales).pathname)){let r=(0,S.getNextPathnameInfo)((0,f.parseRelativeUrl)(e).pathname,{nextConfig:n,parseData:!0});t.pathname=u=(0,w.addBasePath)(r.pathname)}if(!o.includes(c)){let e=z(c,o);e!==c&&(c=e)}let h=o.includes(c)?c:z((0,d.normalizeLocalePath)((0,v.removeBasePath)(t.pathname),r.router.locales).pathname,o);if((0,p.isDynamicRoute)(h)){let e=(0,m.getRouteMatcher)((0,g.getRouteRegex)(h))(u);Object.assign(t.query,e||{})}return{type:"rewrite",parsedAs:t,resolvedHref:h}})}let t=(0,b.parsePath)(e);return Promise.resolve({type:"redirect-external",destination:""+(0,R.formatNextPathnameInfo)({...(0,S.getNextPathnameInfo)(t.pathname,{nextConfig:n,parseData:!0}),defaultLocale:r.router.defaultLocale,buildId:""})+t.query+t.hash})}let c=t.headers.get("x-nextjs-redirect");if(c){if(c.startsWith("/")){let e=(0,b.parsePath)(c),t=(0,R.formatNextPathnameInfo)({...(0,S.getNextPathnameInfo)(e.pathname,{nextConfig:n,parseData:!0}),defaultLocale:r.router.defaultLocale,buildId:""});return Promise.resolve({type:"redirect-internal",newAs:""+t+e.query+e.hash,newUrl:""+t+e.query+e.hash})}return Promise.resolve({type:"redirect-external",destination:c})}return Promise.resolve({type:"next"})}(t.dataHref,t.response,e);return{dataHref:t.dataHref,json:t.json,response:t.response,text:t.text,cacheKey:t.cacheKey,effect:r}}let U=Symbol("SSG_DATA_NOT_FOUND");function H(e){try{return JSON.parse(e)}catch(e){return null}}function B(e){let{dataHref:t,inflightCache:r,isPrefetch:n,hasMiddleware:a,isServerRender:i,parseJSON:s,persistCache:l,isBackground:c,unstable_skipClientCache:d}=e,{href:u}=new URL(t,window.location.href),h=e=>{var c;return(function e(t,r,n){return fetch(t,{credentials:"same-origin",method:n.method||"GET",headers:Object.assign({},n.headers,{"x-nextjs-data":"1"})}).then(a=>!a.ok&&r>1&&a.status>=500?e(t,r-1,n):a)})(t,i?3:1,{headers:Object.assign({},n?{purpose:"prefetch"}:{},n&&a?{"x-middleware-prefetch":"1"}:{},{}),method:null!=(c=null==e?void 0:e.method)?c:"GET"}).then(r=>r.ok&&(null==e?void 0:e.method)==="HEAD"?{dataHref:t,response:r,text:"",json:{},cacheKey:u}:r.text().then(e=>{if(!r.ok){if(a&&[301,302,307,308].includes(r.status))return{dataHref:t,response:r,text:e,json:{},cacheKey:u};if(404===r.status){var n;if(null==(n=H(e))?void 0:n.notFound)return{dataHref:t,json:{notFound:U},response:r,text:e,cacheKey:u}}let s=Object.defineProperty(Error("Failed to load static props"),"__NEXT_ERROR_CODE",{value:"E124",enumerable:!1,configurable:!0});throw i||(0,o.markAssetError)(s),s}return{dataHref:t,json:s?H(e):null,response:r,text:e,cacheKey:u}})).then(e=>(l&&"no-cache"!==e.response.headers.get("x-middleware-cache")||delete r[u],e)).catch(e=>{throw d||delete r[u],("Failed to fetch"===e.message||"NetworkError when attempting to fetch resource."===e.message||"Load failed"===e.message)&&(0,o.markAssetError)(e),e})};return d&&l?h({}).then(e=>("no-cache"!==e.response.headers.get("x-middleware-cache")&&(r[u]=Promise.resolve(e)),e)):void 0!==r[u]?r[u]:r[u]=h(c?{method:"HEAD"}:{})}function $(){return Math.random().toString(36).slice(2,10)}function W(e){let{url:t,router:r}=e;if(t===(0,w.addBasePath)((0,x.addLocale)(r.asPath,r.locale)))throw Object.defineProperty(Error("Invariant: attempted to hard navigate to the same URL "+t+" "+location.href),"__NEXT_ERROR_CODE",{value:"E282",enumerable:!1,configurable:!0});window.location.href=t}let Y=e=>{let{route:t,router:r}=e,n=!1,a=r.clc=()=>{n=!0};return()=>{if(n){let e=Object.defineProperty(Error('Abort fetching component for route: "'+t+'"'),"__NEXT_ERROR_CODE",{value:"E483",enumerable:!1,configurable:!0});throw e.cancelled=!0,e}a===r.clc&&(r.clc=null)}};class X{reload(){window.location.reload()}back(){window.history.back()}forward(){window.history.forward()}push(e,t,r){return void 0===r&&(r={}),{url:e,as:t}=D(this,e,t),this.change("pushState",e,t,r)}replace(e,t,r){return void 0===r&&(r={}),{url:e,as:t}=D(this,e,t),this.change("replaceState",e,t,r)}async _bfl(e,t,n,a){{if(!this._bfl_s&&!this._bfl_d){let t,i,{BloomFilter:s}=r(1219);try{({__routerFilterStatic:t,__routerFilterDynamic:i}=await (0,o.getClientBuildManifest)())}catch(t){if(console.error(t),a)return!0;return W({url:(0,w.addBasePath)((0,x.addLocale)(e,n||this.locale,this.defaultLocale)),router:this}),new Promise(()=>{})}(null==t?void 0:t.numHashes)&&(this._bfl_s=new s(t.numItems,t.errorRate),this._bfl_s.import(t)),(null==i?void 0:i.numHashes)&&(this._bfl_d=new s(i.numItems,i.errorRate),this._bfl_d.import(i))}let d=!1,u=!1;for(let{as:r,allowMatchCurrent:o}of[{as:e},{as:t}])if(r){let t=(0,i.removeTrailingSlash)(new URL(r,"http://n").pathname),h=(0,w.addBasePath)((0,x.addLocale)(t,n||this.locale));if(o||t!==(0,i.removeTrailingSlash)(new URL(this.asPath,"http://n").pathname)){var s,l,c;for(let e of(d=d||!!(null==(s=this._bfl_s)?void 0:s.contains(t))||!!(null==(l=this._bfl_s)?void 0:l.contains(h)),[t,h])){let t=e.split("/");for(let e=0;!u&&e<t.length+1;e++){let r=t.slice(0,e).join("/");if(r&&(null==(c=this._bfl_d)?void 0:c.contains(r))){u=!0;break}}}if(d||u){if(a)return!0;return W({url:(0,w.addBasePath)((0,x.addLocale)(e,n||this.locale,this.defaultLocale)),router:this}),new Promise(()=>{})}}}}return!1}async change(e,t,r,n,a){var c,d,u,j,P,S,R,C,A;let L,F;if(!(0,T.isLocalURL)(t))return W({url:t,router:this}),!1;let H=1===n._h;H||n.shallow||await this._bfl(r,void 0,n.locale);let B=H||n._shouldResolveHref||(0,b.parsePath)(t).pathname===(0,b.parsePath)(r).pathname,$={...this.state},Y=!0!==this.isReady;this.isReady=!0;let V=this.isSsr;if(H||(this.isSsr=!1),H&&this.clc)return!1;let q=$.locale;h.ST&&performance.mark("routeChange");let{shallow:K=!1,scroll:G=!0}=n,Z={shallow:K};this._inFlightRoute&&this.clc&&(V||X.events.emit("routeChangeError",M(),this._inFlightRoute,Z),this.clc(),this.clc=null),r=(0,w.addBasePath)((0,x.addLocale)((0,E.hasBasePath)(r)?(0,v.removeBasePath)(r):r,n.locale,this.defaultLocale));let Q=(0,_.removeLocale)((0,E.hasBasePath)(r)?(0,v.removeBasePath)(r):r,$.locale);this._inFlightRoute=r;let J=q!==$.locale;if(!H&&this.onlyAHashChange(Q)&&!J){$.asPath=Q,X.events.emit("hashChangeStart",r,Z),this.changeState(e,t,r,{...n,scroll:!1}),G&&this.scrollToHash(Q);try{await this.set($,this.components[$.route],null)}catch(e){throw(0,l.default)(e)&&e.cancelled&&X.events.emit("routeChangeError",e,Q,Z),e}return X.events.emit("hashChangeComplete",r,Z),!0}let ee=(0,f.parseRelativeUrl)(t),{pathname:et,query:er}=ee;try{[L,{__rewrites:F}]=await Promise.all([this.pageLoader.getPageList(),(0,o.getClientBuildManifest)(),this.pageLoader.getMiddleware()])}catch(e){return W({url:r,router:this}),!1}this.urlIsNew(Q)||J||(e="replaceState");let en=r;et=et?(0,i.removeTrailingSlash)((0,v.removeBasePath)(et)):et;let ea=(0,i.removeTrailingSlash)(et),ei=r.startsWith("/")&&(0,f.parseRelativeUrl)(r).pathname;if(null==(c=this.components[et])?void 0:c.__appRouter)return W({url:r,router:this}),new Promise(()=>{});let eo=!!(ei&&ea!==ei&&(!(0,p.isDynamicRoute)(ea)||!(0,m.getRouteMatcher)((0,g.getRouteRegex)(ea))(ei))),es=!n.shallow&&await I({asPath:r,locale:$.locale,router:this});if(H&&es&&(B=!1),B&&"/_error"!==et&&(n._shouldResolveHref=!0,ee.pathname=z(et,L),ee.pathname!==et&&(et=ee.pathname,ee.pathname=(0,w.addBasePath)(et),es||(t=(0,y.formatWithValidation)(ee)))),!(0,T.isLocalURL)(r))return W({url:r,router:this}),!1;en=(0,_.removeLocale)((0,v.removeBasePath)(en),$.locale),ea=(0,i.removeTrailingSlash)(et);let el=!1;if((0,p.isDynamicRoute)(ea)){let e=(0,f.parseRelativeUrl)(en),n=e.pathname,a=(0,g.getRouteRegex)(ea);el=(0,m.getRouteMatcher)(a)(n);let i=ea===n,o=i?(0,k.interpolateAs)(ea,n,er):{};if(el&&(!i||o.result))i?r=(0,y.formatWithValidation)(Object.assign({},e,{pathname:o.result,query:(0,O.omit)(er,o.params)})):Object.assign(er,el);else{let e=Object.keys(a.groups).filter(e=>!er[e]&&!a.groups[e].optional);if(e.length>0&&!es)throw Object.defineProperty(Error((i?"The provided `href` ("+t+") value is missing query values ("+e.join(", ")+") to be interpolated properly. ":"The provided `as` value ("+n+") is incompatible with the `href` value ("+ea+"). ")+"Read more: https://nextjs.org/docs/messages/"+(i?"href-interpolation-failed":"incompatible-href-as")),"__NEXT_ERROR_CODE",{value:"E344",enumerable:!1,configurable:!0})}}H||X.events.emit("routeChangeStart",r,Z);let ec="/404"===this.pathname||"/_error"===this.pathname;try{let i=await this.getRouteInfo({route:ea,pathname:et,query:er,as:r,resolvedAs:en,routeProps:Z,locale:$.locale,isPreview:$.isPreview,hasMiddleware:es,unstable_skipClientCache:n.unstable_skipClientCache,isQueryUpdating:H&&!this.isFallback,isMiddlewareRewrite:eo});if(H||n.shallow||await this._bfl(r,"resolvedAs"in i?i.resolvedAs:void 0,$.locale),"route"in i&&es){ea=et=i.route||ea,Z.shallow||(er=Object.assign({},i.query||{},er));let e=(0,E.hasBasePath)(ee.pathname)?(0,v.removeBasePath)(ee.pathname):ee.pathname;if(el&&et!==e&&Object.keys(el).forEach(e=>{el&&er[e]===el[e]&&delete er[e]}),(0,p.isDynamicRoute)(et)){let e=!Z.shallow&&i.resolvedAs?i.resolvedAs:(0,w.addBasePath)((0,x.addLocale)(new URL(r,location.href).pathname,$.locale),!0);(0,E.hasBasePath)(e)&&(e=(0,v.removeBasePath)(e));let t=(0,g.getRouteRegex)(et),n=(0,m.getRouteMatcher)(t)(new URL(e,location.href).pathname);n&&Object.assign(er,n)}}if("type"in i)if("redirect-internal"===i.type)return this.change(e,i.newUrl,i.newAs,n);else return W({url:i.destination,router:this}),new Promise(()=>{});let o=i.Component;if(o&&o.unstable_scriptLoader&&[].concat(o.unstable_scriptLoader()).forEach(e=>{(0,s.handleClientScriptLoad)(e.props)}),(i.__N_SSG||i.__N_SSP)&&i.props){if(i.props.pageProps&&i.props.pageProps.__N_REDIRECT){n.locale=!1;let t=i.props.pageProps.__N_REDIRECT;if(t.startsWith("/")&&!1!==i.props.pageProps.__N_REDIRECT_BASE_PATH){let r=(0,f.parseRelativeUrl)(t);r.pathname=z(r.pathname,L);let{url:a,as:i}=D(this,t,t);return this.change(e,a,i,n)}return W({url:t,router:this}),new Promise(()=>{})}if($.isPreview=!!i.props.__N_PREVIEW,i.props.notFound===U){let e;try{await this.fetchComponent("/404"),e="/404"}catch(t){e="/_error"}if(i=await this.getRouteInfo({route:e,pathname:e,query:er,as:r,resolvedAs:en,routeProps:{shallow:!1},locale:$.locale,isPreview:$.isPreview,isNotFound:!0}),"type"in i)throw Object.defineProperty(Error("Unexpected middleware effect on /404"),"__NEXT_ERROR_CODE",{value:"E158",enumerable:!1,configurable:!0})}}H&&"/_error"===this.pathname&&(null==(u=self.__NEXT_DATA__.props)||null==(d=u.pageProps)?void 0:d.statusCode)===500&&(null==(j=i.props)?void 0:j.pageProps)&&(i.props.pageProps.statusCode=500);let c=n.shallow&&$.route===(null!=(P=i.route)?P:ea),h=null!=(S=n.scroll)?S:!H&&!c,y=null!=a?a:h?{x:0,y:0}:null,b={...$,route:ea,pathname:et,query:er,asPath:Q,isFallback:!1};if(H&&ec){if(i=await this.getRouteInfo({route:this.pathname,pathname:this.pathname,query:er,as:r,resolvedAs:en,routeProps:{shallow:!1},locale:$.locale,isPreview:$.isPreview,isQueryUpdating:H&&!this.isFallback}),"type"in i)throw Object.defineProperty(Error("Unexpected middleware effect on "+this.pathname),"__NEXT_ERROR_CODE",{value:"E225",enumerable:!1,configurable:!0});"/_error"===this.pathname&&(null==(C=self.__NEXT_DATA__.props)||null==(R=C.pageProps)?void 0:R.statusCode)===500&&(null==(A=i.props)?void 0:A.pageProps)&&(i.props.pageProps.statusCode=500);try{await this.set(b,i,y)}catch(e){throw(0,l.default)(e)&&e.cancelled&&X.events.emit("routeChangeError",e,Q,Z),e}return!0}if(X.events.emit("beforeHistoryChange",r,Z),this.changeState(e,t,r,n),!(H&&!y&&!Y&&!J&&(0,N.compareRouterStates)(b,this.state))){try{await this.set(b,i,y)}catch(e){if(e.cancelled)i.error=i.error||e;else throw e}if(i.error)throw H||X.events.emit("routeChangeError",i.error,Q,Z),i.error;H||X.events.emit("routeChangeComplete",r,Z),h&&/#.+$/.test(r)&&this.scrollToHash(r)}return!0}catch(e){if((0,l.default)(e)&&e.cancelled)return!1;throw e}}changeState(e,t,r,n){void 0===n&&(n={}),("pushState"!==e||(0,h.getURL)()!==r)&&(this._shallow=n.shallow,window.history[e]({url:t,as:r,options:n,__N:!0,key:this._key="pushState"!==e?this._key:$()},"",r))}async handleRouteInfoError(e,t,r,n,a,i){if(e.cancelled)throw e;if((0,o.isAssetError)(e)||i)throw X.events.emit("routeChangeError",e,n,a),W({url:n,router:this}),M();console.error(e);try{let n,{page:a,styleSheets:i}=await this.fetchComponent("/_error"),o={props:n,Component:a,styleSheets:i,err:e,error:e};if(!o.props)try{o.props=await this.getInitialProps(a,{err:e,pathname:t,query:r})}catch(e){console.error("Error in error page `getInitialProps`: ",e),o.props={}}return o}catch(e){return this.handleRouteInfoError((0,l.default)(e)?e:Object.defineProperty(Error(e+""),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0}),t,r,n,a,!0)}}async getRouteInfo(e){let{route:t,pathname:r,query:n,as:a,resolvedAs:o,routeProps:s,locale:c,hasMiddleware:u,isPreview:h,unstable_skipClientCache:p,isQueryUpdating:f,isMiddlewareRewrite:m,isNotFound:g}=e,b=t;try{var x,_,w,E;let e=this.components[b];if(s.shallow&&e&&this.route===b)return e;let t=Y({route:b,router:this});u&&(e=void 0);let l=!e||"initial"in e?void 0:e,j={dataHref:this.pageLoader.getDataHref({href:(0,y.formatWithValidation)({pathname:r,query:n}),skipInterpolation:!0,asPath:g?"/404":o,locale:c}),hasMiddleware:!0,isServerRender:this.isSsr,parseJSON:!0,inflightCache:f?this.sbc:this.sdc,persistCache:!h,isPrefetch:!1,unstable_skipClientCache:p,isBackground:f},S=f&&!m?null:await F({fetchData:()=>B(j),asPath:g?"/404":o,locale:c,router:this}).catch(e=>{if(f)return null;throw e});if(S&&("/_error"===r||"/404"===r)&&(S.effect=void 0),f&&(S?S.json=self.__NEXT_DATA__.props:S={json:self.__NEXT_DATA__.props}),t(),(null==S||null==(x=S.effect)?void 0:x.type)==="redirect-internal"||(null==S||null==(_=S.effect)?void 0:_.type)==="redirect-external")return S.effect;if((null==S||null==(w=S.effect)?void 0:w.type)==="rewrite"){let t=(0,i.removeTrailingSlash)(S.effect.resolvedHref),a=await this.pageLoader.getPageList();if((!f||a.includes(t))&&(b=t,r=S.effect.resolvedHref,n={...n,...S.effect.parsedAs.query},o=(0,v.removeBasePath)((0,d.normalizeLocalePath)(S.effect.parsedAs.pathname,this.locales).pathname),e=this.components[b],s.shallow&&e&&this.route===b&&!u))return{...e,route:b}}if((0,P.isAPIRoute)(b))return W({url:a,router:this}),new Promise(()=>{});let R=l||await this.fetchComponent(b).then(e=>({Component:e.page,styleSheets:e.styleSheets,__N_SSG:e.mod.__N_SSG,__N_SSP:e.mod.__N_SSP})),N=null==S||null==(E=S.response)?void 0:E.headers.get("x-middleware-skip"),T=R.__N_SSG||R.__N_SSP;N&&(null==S?void 0:S.dataHref)&&delete this.sdc[S.dataHref];let{props:O,cacheKey:k}=await this._getData(async()=>{if(T){if((null==S?void 0:S.json)&&!N)return{cacheKey:S.cacheKey,props:S.json};let e=(null==S?void 0:S.dataHref)?S.dataHref:this.pageLoader.getDataHref({href:(0,y.formatWithValidation)({pathname:r,query:n}),asPath:o,locale:c}),t=await B({dataHref:e,isServerRender:this.isSsr,parseJSON:!0,inflightCache:N?{}:this.sdc,persistCache:!h,isPrefetch:!1,unstable_skipClientCache:p});return{cacheKey:t.cacheKey,props:t.json||{}}}return{headers:{},props:await this.getInitialProps(R.Component,{pathname:r,query:n,asPath:a,locale:c,locales:this.locales,defaultLocale:this.defaultLocale})}});return R.__N_SSP&&j.dataHref&&k&&delete this.sdc[k],this.isPreview||!R.__N_SSG||f||B(Object.assign({},j,{isBackground:!0,persistCache:!1,inflightCache:this.sbc})).catch(()=>{}),O.pageProps=Object.assign({},O.pageProps),R.props=O,R.route=b,R.query=n,R.resolvedAs=o,this.components[b]=R,R}catch(e){return this.handleRouteInfoError((0,l.getProperError)(e),r,n,a,s)}}set(e,t,r){return this.state=e,this.sub(t,this.components["/_app"].Component,r)}beforePopState(e){this._bps=e}onlyAHashChange(e){if(!this.asPath)return!1;let[t,r]=this.asPath.split("#",2),[n,a]=e.split("#",2);return!!a&&t===n&&r===a||t===n&&r!==a}scrollToHash(e){let[,t=""]=e.split("#",2);(0,C.handleSmoothScroll)(()=>{if(""===t||"top"===t)return void window.scrollTo(0,0);let e=decodeURIComponent(t),r=document.getElementById(e);if(r)return void r.scrollIntoView();let n=document.getElementsByName(e)[0];n&&n.scrollIntoView()},{onlyHashChange:this.onlyAHashChange(e)})}urlIsNew(e){return this.asPath!==e}async prefetch(e,t,r){void 0===t&&(t=e),void 0===r&&(r={});let n=(0,f.parseRelativeUrl)(e),a=n.pathname,{pathname:o,query:s}=n,l=o,c=await this.pageLoader.getPageList(),d=t,u=void 0!==r.locale?r.locale||void 0:this.locale,h=await I({asPath:t,locale:u,router:this});n.pathname=z(n.pathname,c),(0,p.isDynamicRoute)(n.pathname)&&(o=n.pathname,n.pathname=o,Object.assign(s,(0,m.getRouteMatcher)((0,g.getRouteRegex)(n.pathname))((0,b.parsePath)(t).pathname)||{}),h||(e=(0,y.formatWithValidation)(n)));let x=await F({fetchData:()=>B({dataHref:this.pageLoader.getDataHref({href:(0,y.formatWithValidation)({pathname:l,query:s}),skipInterpolation:!0,asPath:d,locale:u}),hasMiddleware:!0,isServerRender:!1,parseJSON:!0,inflightCache:this.sdc,persistCache:!this.isPreview,isPrefetch:!0}),asPath:t,locale:u,router:this});if((null==x?void 0:x.effect.type)==="rewrite"&&(n.pathname=x.effect.resolvedHref,o=x.effect.resolvedHref,s={...s,...x.effect.parsedAs.query},d=x.effect.parsedAs.pathname,e=(0,y.formatWithValidation)(n)),(null==x?void 0:x.effect.type)==="redirect-external")return;let _=(0,i.removeTrailingSlash)(o);await this._bfl(t,d,r.locale,!0)&&(this.components[a]={__appRouter:!0}),await Promise.all([this.pageLoader._isSsg(_).then(t=>!!t&&B({dataHref:(null==x?void 0:x.json)?null==x?void 0:x.dataHref:this.pageLoader.getDataHref({href:e,asPath:d,locale:u}),isServerRender:!1,parseJSON:!0,inflightCache:this.sdc,persistCache:!this.isPreview,isPrefetch:!0,unstable_skipClientCache:r.unstable_skipClientCache||r.priority&&!0}).then(()=>!1).catch(()=>!1)),this.pageLoader[r.priority?"loadPage":"prefetch"](_)])}async fetchComponent(e){let t=Y({route:e,router:this});try{let r=await this.pageLoader.loadPage(e);return t(),r}catch(e){throw t(),e}}_getData(e){let t=!1,r=()=>{t=!0};return this.clc=r,e().then(e=>{if(r===this.clc&&(this.clc=null),t){let e=Object.defineProperty(Error("Loading initial props cancelled"),"__NEXT_ERROR_CODE",{value:"E405",enumerable:!1,configurable:!0});throw e.cancelled=!0,e}return e})}getInitialProps(e,t){let{Component:r}=this.components["/_app"],n=this._wrapApp(r);return t.AppTree=n,(0,h.loadGetInitialProps)(r,{AppTree:n,Component:e,router:this,ctx:t})}get route(){return this.state.route}get pathname(){return this.state.pathname}get query(){return this.state.query}get asPath(){return this.state.asPath}get locale(){return this.state.locale}get isFallback(){return this.state.isFallback}get isPreview(){return this.state.isPreview}constructor(e,t,r,{initialProps:n,pageLoader:a,App:o,wrapApp:s,Component:l,err:c,subscription:d,isFallback:u,locale:m,locales:g,defaultLocale:b,domainLocales:x,isPreview:_}){this.sdc={},this.sbc={},this.isFirstPopStateEvent=!0,this._key=$(),this.onPopState=e=>{let t,{isFirstPopStateEvent:r}=this;this.isFirstPopStateEvent=!1;let n=e.state;if(!n){let{pathname:e,query:t}=this;this.changeState("replaceState",(0,y.formatWithValidation)({pathname:(0,w.addBasePath)(e),query:t}),(0,h.getURL)());return}if(n.__NA)return void window.location.reload();if(!n.__N||r&&this.locale===n.options.locale&&n.as===this.asPath)return;let{url:a,as:i,options:o,key:s}=n;this._key=s;let{pathname:l}=(0,f.parseRelativeUrl)(a);(!this.isSsr||i!==(0,w.addBasePath)(this.asPath)||l!==(0,w.addBasePath)(this.pathname))&&(!this._bps||this._bps(n))&&this.change("replaceState",a,i,Object.assign({},o,{shallow:o.shallow&&this._shallow,locale:o.locale||this.defaultLocale,_h:0}),t)};let v=(0,i.removeTrailingSlash)(e);this.components={},"/_error"!==e&&(this.components[v]={Component:l,initial:!0,props:n,err:c,__N_SSG:n&&n.__N_SSG,__N_SSP:n&&n.__N_SSP}),this.components["/_app"]={Component:o,styleSheets:[]},this.events=X.events,this.pageLoader=a;let E=(0,p.isDynamicRoute)(e)&&self.__NEXT_DATA__.autoExport;this.basePath="",this.sub=d,this.clc=null,this._wrapApp=s,this.isSsr=!0,this.isLocaleDomain=!1,this.isReady=!!(self.__NEXT_DATA__.gssp||self.__NEXT_DATA__.gip||self.__NEXT_DATA__.isExperimentalCompile||self.__NEXT_DATA__.appGip&&!self.__NEXT_DATA__.gsp||!E&&!self.location.search),this.state={route:v,pathname:e,query:t,asPath:E?e:r,isPreview:!!_,locale:void 0,isFallback:u},this._initialMatchesMiddlewarePromise=Promise.resolve(!1)}}X.events=(0,u.default)()},4841:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{cancelIdleCallback:function(){return n},requestIdleCallback:function(){return r}});let r="undefined"!=typeof self&&self.requestIdleCallback&&self.requestIdleCallback.bind(window)||function(e){let t=Date.now();return self.setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},n="undefined"!=typeof self&&self.cancelIdleCallback&&self.cancelIdleCallback.bind(window)||function(e){return clearTimeout(e)};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5306:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{Router:function(){return i.default},createRouter:function(){return m},default:function(){return p},makePublicRouterInstance:function(){return g},useRouter:function(){return f},withRouter:function(){return l.default}});let n=r(7020),a=n._(r(2015)),i=n._(r(4828)),o=r(2088),s=n._(r(1644)),l=n._(r(3949)),c={router:null,readyCallbacks:[],ready(e){if(this.router)return e()}},d=["pathname","route","query","asPath","components","isFallback","basePath","locale","locales","defaultLocale","isReady","isPreview","isLocaleDomain","domainLocales"],u=["push","replace","reload","back","prefetch","beforePopState"];function h(){if(!c.router)throw Object.defineProperty(Error('No router instance found.\nYou should only use "next/router" on the client side of your app.\n'),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return c.router}Object.defineProperty(c,"events",{get:()=>i.default.events}),d.forEach(e=>{Object.defineProperty(c,e,{get:()=>h()[e]})}),u.forEach(e=>{c[e]=function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return h()[e](...r)}}),["routeChangeStart","beforeHistoryChange","routeChangeComplete","routeChangeError","hashChangeStart","hashChangeComplete"].forEach(e=>{c.ready(()=>{i.default.events.on(e,function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];let a="on"+e.charAt(0).toUpperCase()+e.substring(1);if(c[a])try{c[a](...r)}catch(e){console.error("Error when running the Router event: "+a),console.error((0,s.default)(e)?e.message+"\n"+e.stack:e+"")}})})});let p=c;function f(){let e=a.default.useContext(o.RouterContext);if(!e)throw Object.defineProperty(Error("NextRouter was not mounted. https://nextjs.org/docs/messages/next-router-not-mounted"),"__NEXT_ERROR_CODE",{value:"E509",enumerable:!1,configurable:!0});return e}function m(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return c.router=new i.default(...t),c.readyCallbacks.forEach(e=>e()),c.readyCallbacks=[],c.router}function g(e){let t={};for(let r of d){if("object"==typeof e[r]){t[r]=Object.assign(Array.isArray(e[r])?[]:{},e[r]);continue}t[r]=e[r]}return t.events=i.default.events,u.forEach(r=>{t[r]=function(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];return e[r](...n)}}),t}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5887:(e,t,r)=>{"use strict";r.d(t,{CKj:()=>h,yGN:()=>p});var n=r(2015),a={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i=n.createContext&&n.createContext(a),o=["attr","size","title"];function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){var n,a,i;n=e,a=t,i=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in n?Object.defineProperty(n,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[a]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e){return t=>n.createElement(u,s({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,r)=>n.createElement(t.tag,c({key:r},t.attr),e(t.child)))}(e.child))}function u(e){var t=t=>{var r,{attr:a,size:i,title:l}=e,d=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,o),u=i||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),n.createElement("svg",s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,d,{className:r,style:c(c({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),l&&n.createElement("title",null,l),e.children)};return void 0!==i?n.createElement(i.Consumer,null,e=>t(e)):t(a)}function h(e){return d({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function p(e){return d({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}},5939:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parseRelativeUrl",{enumerable:!0,get:function(){return a}}),r(4718);let n=r(7536);function a(e,t,r){void 0===r&&(r=!0);let a=new URL("http://n"),i=t?new URL(t,a):e.startsWith(".")?new URL("http://n"):a,{pathname:o,searchParams:s,search:l,hash:c,href:d,origin:u}=new URL(e,i);if(u!==a.origin)throw Object.defineProperty(Error("invariant: invalid relative URL, router received "+e),"__NEXT_ERROR_CODE",{value:"E159",enumerable:!1,configurable:!0});return{pathname:o,query:r?(0,n.searchParamsToUrlQuery)(s):void 0,search:l,hash:c,href:d.slice(u.length)}}},6092:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addBasePath",{enumerable:!0,get:function(){return i}});let n=r(6655),a=r(7779);function i(e,t){return(0,a.normalizePathTrailingSlash)((0,n.addPathPrefix)(e,""))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6231:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"resolveHref",{enumerable:!0,get:function(){return u}});let n=r(7536),a=r(2848),i=r(8410),o=r(4718),s=r(7779),l=r(651),c=r(6275),d=r(3563);function u(e,t,r){let u,h="string"==typeof t?t:(0,a.formatWithValidation)(t),p=h.match(/^[a-zA-Z]{1,}:\/\//),f=p?h.slice(p[0].length):h;if((f.split("?",1)[0]||"").match(/(\/\/|\\)/)){console.error("Invalid href '"+h+"' passed to next/router in page: '"+e.pathname+"'. Repeated forward-slashes (//) or backslashes \\ are not valid in the href.");let t=(0,o.normalizeRepeatedSlashes)(f);h=(p?p[0]:"")+t}if(!(0,l.isLocalURL)(h))return r?[h]:h;try{u=new URL(h.startsWith("#")?e.asPath:e.pathname,"http://n")}catch(e){u=new URL("/","http://n")}try{let e=new URL(h,u);e.pathname=(0,s.normalizePathTrailingSlash)(e.pathname);let t="";if((0,c.isDynamicRoute)(e.pathname)&&e.searchParams&&r){let r=(0,n.searchParamsToUrlQuery)(e.searchParams),{result:o,params:s}=(0,d.interpolateAs)(e.pathname,e.pathname,r);o&&(t=(0,a.formatWithValidation)({pathname:o,hash:e.hash,query:(0,i.omit)(r,s)}))}let o=e.origin===u.origin?e.href.slice(e.origin.length):e.href;return r?[o,t||o]:o}catch(e){return r?[h]:h}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6290:(e,t)=>{"use strict";function r(e){let t=e.indexOf("#"),r=e.indexOf("?"),n=r>-1&&(t<0||r<t);return n||t>-1?{pathname:e.substring(0,n?r:t),query:n?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parsePath",{enumerable:!0,get:function(){return r}})},6314:(e,t,r)=>{"use strict";r.a(e,async(e,n)=>{try{r.d(t,{A:()=>s});var a=r(2177),i=r(8795),o=e([a,i]);[a,i]=o.then?(await o)():o;let s=(0,a.create)((e,t)=>({comments:{},currentNetworkId:null,fetchComments:async t=>{let r=await (0,i.p4)(t);e(e=>({comments:{...e.comments,[t]:r},currentNetworkId:t}))},createComment:async(t,r)=>{let n=await (0,i.eT)(r);return e(e=>({comments:{...e.comments,[t]:[...e.comments[t]||[],n]}})),n},updateComment:async(t,r)=>{let n=await (0,i.vv)(r);e(e=>({comments:{...e.comments,[t]:e.comments[t].map(e=>e.id===n.id?n:e)}}))},deleteComment:async(t,r)=>{await (0,i.Tu)(r),e(e=>({comments:{...e.comments,[t]:e.comments[t].filter(e=>e.id!==r)}}))}}));n()}catch(e){n(e)}})},6343:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(8732),a=r(2015);async function i(e,t="gpt-4o"){let r=function(){throw Error("Puter.js v2 not loaded (client only)")}();if(!Array.isArray(e))throw Error("messages must be an array");let n=await r.ai.chat(e,!1,{model:t});if(console.log("Puter API 응답:",n),n?.message?.content)return n.message.content}function o(){return new Promise((e,t)=>{if(document.querySelector('script[src="https://js.puter.com/v2/"]')){let t=()=>{window.puter?e():setTimeout(t,50)};t();return}let r=document.createElement("script");r.src="https://js.puter.com/v2/",r.async=!0,r.onload=()=>e(),r.onerror=()=>t(Error("Puter.js load failed")),document.body.appendChild(r)})}let s=({originId:e,originTitle:t,migrationPath:r,networkSummary:s,edges:l})=>{let[c,d]=(0,a.useState)(""),[u,h]=(0,a.useState)(!1),p=async()=>{h(!0);try{await o();let e=`이 인물의 이주 경로는 다음과 같습니다: ${r.map(e=>`${e.year}년 ${e.place} 이유: ${e.reason||"제시된 정보 없음"}`).join(" → ")}. 이 인물의 이주 스토리를 논문에 한 문단(4~5문장)으로 쓸 수 있도록 요약해주고, 마지막에 이동방식의 특징에 대한 인사이트(한 문장)도 추가해줘. 만약에 제시된 정보가 없다면 "제시된 정보가 없다"고 해. 거짓말은 안돼!`,t=await i([{role:"system",content:"You are a migration story generator."},{role:"user",content:e}]);d(t)}catch(e){alert("AI 기능을 사용할 수 없습니다: "+(e&&"object"==typeof e&&"message"in e?e.message:JSON.stringify(e)))}h(!1)},f=(e,t,r)=>{if(!e||0===e.length)return`네트워크 ${r}(${t})는 다른 네트워크와 연결된 관계가 없습니다.`;let n=e.map(e=>`- ${r}(${t})와 ${e.targetTitle}(${e.targetId})는 ${e.year}년에 "${e.edgeType}" 관계를 맺음`).join("\n");return`${r}(${t})는 다음과 같은 관계를 맺고 있습니다:
${n}
위 관계들을 바탕으로 논문 한 문단(4~5문장)으로 요약해줘. 그리고 이 네트워크의 특징을 인사이트로 한 문장으로 말해줘. 정보가 없으면 "제시된 정보가 없다"고 해.`},m=async()=>{h(!0);try{await o();let r=l&&l.length>0?f(l,e,t||`ID:${e}`):s,n=await i([{role:"user",content:r}]);d(n)}catch(e){alert("AI 기능을 사용할 수 없습니다: "+(e&&"object"==typeof e&&"message"in e?e.message:JSON.stringify(e)))}h(!1)};return(0,n.jsxs)("div",{style:{margin:"0.5rem 0 0.2rem 0",padding:"0.5rem 0.2rem",background:"rgba(245,245,245,0.85)",borderRadius:"10px",boxShadow:"0 1px 6px rgba(33,150,243,0.06)",fontSize:"0.93rem"},children:[(0,n.jsxs)("div",{style:{display:"flex",gap:"0.4rem",marginBottom:"0.5rem",justifyContent:"center"},children:[(0,n.jsxs)("button",{onClick:p,disabled:u,style:{background:"#e3f2fd",border:"none",borderRadius:"7px",padding:"0.32rem 0.7rem",fontWeight:600,fontSize:"0.92rem",cursor:u?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"0.3em",color:"#1976d2",boxShadow:"0 1px 3px rgba(33,150,243,0.07)",transition:"background 0.2s"},children:[(0,n.jsx)("span",{role:"img","aria-label":"migration",style:{fontSize:"1.1em"},children:"\uD83E\uDDF3"}),(0,n.jsx)("span",{style:{fontSize:"0.93em"},children:"이주 스토리"})]}),(0,n.jsxs)("button",{onClick:m,disabled:u,style:{background:"#fff3e0",border:"none",borderRadius:"7px",padding:"0.32rem 0.7rem",fontWeight:600,fontSize:"0.92rem",cursor:u?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"0.3em",color:"#e65100",boxShadow:"0 1px 3px rgba(255,152,0,0.07)",transition:"background 0.2s"},children:[(0,n.jsx)("span",{role:"img","aria-label":"network",style:{fontSize:"1.1em"},children:"\uD83D\uDD78️"}),(0,n.jsx)("span",{style:{fontSize:"0.93em"},children:"관계망 스토리"})]})]}),u&&(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5em",margin:"0.7rem 0 0.2rem 0",justifyContent:"center"},children:[(0,n.jsx)("span",{style:{width:18,height:18,border:"2.5px solid #90caf9",borderTop:"2.5px solid #fff",borderRadius:"50%",display:"inline-block",animation:"spin 1s linear infinite"}}),(0,n.jsx)("span",{style:{fontWeight:500,color:"#1976d2",fontSize:"0.93em"},children:"HistoryBot 생성 중..."}),(0,n.jsx)("style",{children:"@keyframes spin { 100% { transform: rotate(360deg); } }"})]}),c&&(0,n.jsxs)("div",{style:{background:"#f8f9fa",borderRadius:"8px",boxShadow:"0 1px 6px rgba(33,150,243,0.06)",padding:"0.7rem 0.7rem 0.7rem 0.9rem",margin:"0.5rem 0 0 0",fontSize:"0.97em",color:"#333",lineHeight:1.6,border:"1px solid #e3e3e3",position:"relative",minHeight:"2.2em",wordBreak:"keep-all",whiteSpace:"pre-line"},children:[(0,n.jsx)("span",{style:{position:"absolute",top:10,right:16,fontSize:"1.1em",opacity:.13,pointerEvents:"none"},"aria-hidden":!0,children:"✨"}),(0,n.jsxs)("div",{style:{fontWeight:700,marginBottom:"0.3em",color:"#1976d2",display:"flex",alignItems:"center",gap:"0.3em",fontSize:"0.98em"},children:[(0,n.jsx)("span",{role:"img","aria-label":"story",style:{fontSize:"1.1em"},children:"\uD83E\uDD16\uD83D\uDCDA"}),"HistoryBot 스토리 결과"]}),(0,n.jsx)("div",{style:{fontSize:"0.97em",color:"#222"},children:c})]})]})}},6655:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathPrefix",{enumerable:!0,get:function(){return a}});let n=r(6290);function a(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:a,hash:i}=(0,n.parsePath)(e);return""+t+r+a+i}},6898:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parseUrl",{enumerable:!0,get:function(){return i}});let n=r(7536),a=r(5939);function i(e){if(e.startsWith("/"))return(0,a.parseRelativeUrl)(e);let t=new URL(e);return{hash:t.hash,hostname:t.hostname,href:t.href,pathname:t.pathname,port:t.port,protocol:t.protocol,query:(0,n.searchParamsToUrlQuery)(t.searchParams),search:t.search}}},7015:(e,t,r)=>{"use strict";r.a(e,async(e,n)=>{try{r.d(t,{N:()=>R});var a=r(3070),i=e([a]);a=(i.then?(await i)():i)[0];let b={type:"change"},x={type:"start"},_={type:"end"},v=new a.Ray,w=new a.Plane,E=Math.cos(70*a.MathUtils.DEG2RAD),j=new a.Vector3,P=2*Math.PI,S={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};class R extends a.Controls{constructor(e,t=null){super(e,t),this.state=S.NONE,this.enabled=!0,this.target=new a.Vector3,this.cursor=new a.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.keyRotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:a.MOUSE.ROTATE,MIDDLE:a.MOUSE.DOLLY,RIGHT:a.MOUSE.PAN},this.touches={ONE:a.TOUCH.ROTATE,TWO:a.TOUCH.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new a.Vector3,this._lastQuaternion=new a.Quaternion,this._lastTargetPosition=new a.Vector3,this._quat=new a.Quaternion().setFromUnitVectors(e.up,new a.Vector3(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new a.Spherical,this._sphericalDelta=new a.Spherical,this._scale=1,this._panOffset=new a.Vector3,this._rotateStart=new a.Vector2,this._rotateEnd=new a.Vector2,this._rotateDelta=new a.Vector2,this._panStart=new a.Vector2,this._panEnd=new a.Vector2,this._panDelta=new a.Vector2,this._dollyStart=new a.Vector2,this._dollyEnd=new a.Vector2,this._dollyDelta=new a.Vector2,this._dollyDirection=new a.Vector3,this._mouse=new a.Vector2,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=s.bind(this),this._onPointerDown=o.bind(this),this._onPointerUp=l.bind(this),this._onContextMenu=m.bind(this),this._onMouseWheel=u.bind(this),this._onKeyDown=h.bind(this),this._onTouchStart=p.bind(this),this._onTouchMove=f.bind(this),this._onMouseDown=c.bind(this),this._onMouseMove=d.bind(this),this._interceptControlDown=g.bind(this),this._interceptControlUp=y.bind(this),null!==this.domElement&&this.connect(),this.update()}connect(){this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(e){e.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=e}stopListenToKeyEvents(){null!==this._domElementKeyEvents&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(b),this.update(),this.state=S.NONE}update(e=null){let t=this.object.position;j.copy(t).sub(this.target),j.applyQuaternion(this._quat),this._spherical.setFromVector3(j),this.autoRotate&&this.state===S.NONE&&this._rotateLeft(this._getAutoRotationAngle(e)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let r=this.minAzimuthAngle,n=this.maxAzimuthAngle;isFinite(r)&&isFinite(n)&&(r<-Math.PI?r+=P:r>Math.PI&&(r-=P),n<-Math.PI?n+=P:n>Math.PI&&(n-=P),r<=n?this._spherical.theta=Math.max(r,Math.min(n,this._spherical.theta)):this._spherical.theta=this._spherical.theta>(r+n)/2?Math.max(r,this._spherical.theta):Math.min(n,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),!0===this.enableDamping?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let i=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{let e=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),i=e!=this._spherical.radius}if(j.setFromSpherical(this._spherical),j.applyQuaternion(this._quatInverse),t.copy(this.target).add(j),this.object.lookAt(this.target),!0===this.enableDamping?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let e=null;if(this.object.isPerspectiveCamera){let t=j.length();e=this._clampDistance(t*this._scale);let r=t-e;this.object.position.addScaledVector(this._dollyDirection,r),this.object.updateMatrixWorld(),i=!!r}else if(this.object.isOrthographicCamera){let t=new a.Vector3(this._mouse.x,this._mouse.y,0);t.unproject(this.object);let r=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),i=r!==this.object.zoom;let n=new a.Vector3(this._mouse.x,this._mouse.y,0);n.unproject(this.object),this.object.position.sub(n).add(t),this.object.updateMatrixWorld(),e=j.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1;null!==e&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(e).add(this.object.position):(v.origin.copy(this.object.position),v.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(v.direction))<E?this.object.lookAt(this.target):(w.setFromNormalAndCoplanarPoint(this.object.up,this.target),v.intersectPlane(w,this.target))))}else if(this.object.isOrthographicCamera){let e=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),e!==this.object.zoom&&(this.object.updateProjectionMatrix(),i=!0)}return this._scale=1,this._performCursorZoom=!1,!!(i||this._lastPosition.distanceToSquared(this.object.position)>1e-6||8*(1-this._lastQuaternion.dot(this.object.quaternion))>1e-6||this._lastTargetPosition.distanceToSquared(this.target)>1e-6)&&(this.dispatchEvent(b),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0)}_getAutoRotationAngle(e){return null!==e?P/60*this.autoRotateSpeed*e:P/60/60*this.autoRotateSpeed}_getZoomScale(e){let t=Math.abs(.01*e);return Math.pow(.95,this.zoomSpeed*t)}_rotateLeft(e){this._sphericalDelta.theta-=e}_rotateUp(e){this._sphericalDelta.phi-=e}_panLeft(e,t){j.setFromMatrixColumn(t,0),j.multiplyScalar(-e),this._panOffset.add(j)}_panUp(e,t){!0===this.screenSpacePanning?j.setFromMatrixColumn(t,1):(j.setFromMatrixColumn(t,0),j.crossVectors(this.object.up,j)),j.multiplyScalar(e),this._panOffset.add(j)}_pan(e,t){let r=this.domElement;if(this.object.isPerspectiveCamera){let n=this.object.position;j.copy(n).sub(this.target);let a=j.length();a*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*e*a/r.clientHeight,this.object.matrix),this._panUp(2*t*a/r.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(e*(this.object.right-this.object.left)/this.object.zoom/r.clientWidth,this.object.matrix),this._panUp(t*(this.object.top-this.object.bottom)/this.object.zoom/r.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}_dollyOut(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_dollyIn(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_updateZoomParameters(e,t){if(!this.zoomToCursor)return;this._performCursorZoom=!0;let r=this.domElement.getBoundingClientRect(),n=e-r.left,a=t-r.top,i=r.width,o=r.height;this._mouse.x=n/i*2-1,this._mouse.y=-(a/o*2)+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(e){return Math.max(this.minDistance,Math.min(this.maxDistance,e))}_handleMouseDownRotate(e){this._rotateStart.set(e.clientX,e.clientY)}_handleMouseDownDolly(e){this._updateZoomParameters(e.clientX,e.clientX),this._dollyStart.set(e.clientX,e.clientY)}_handleMouseDownPan(e){this._panStart.set(e.clientX,e.clientY)}_handleMouseMoveRotate(e){this._rotateEnd.set(e.clientX,e.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);let t=this.domElement;this._rotateLeft(P*this._rotateDelta.x/t.clientHeight),this._rotateUp(P*this._rotateDelta.y/t.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(e){this._dollyEnd.set(e.clientX,e.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(e){this._panEnd.set(e.clientX,e.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(e){this._updateZoomParameters(e.clientX,e.clientY),e.deltaY<0?this._dollyIn(this._getZoomScale(e.deltaY)):e.deltaY>0&&this._dollyOut(this._getZoomScale(e.deltaY)),this.update()}_handleKeyDown(e){let t=!1;switch(e.code){case this.keys.UP:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(P*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,this.keyPanSpeed),t=!0;break;case this.keys.BOTTOM:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(-P*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,-this.keyPanSpeed),t=!0;break;case this.keys.LEFT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(P*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(this.keyPanSpeed,0),t=!0;break;case this.keys.RIGHT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(-P*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(-this.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),this.update())}_handleTouchStartRotate(e){if(1===this._pointers.length)this._rotateStart.set(e.pageX,e.pageY);else{let t=this._getSecondPointerPosition(e),r=.5*(e.pageX+t.x),n=.5*(e.pageY+t.y);this._rotateStart.set(r,n)}}_handleTouchStartPan(e){if(1===this._pointers.length)this._panStart.set(e.pageX,e.pageY);else{let t=this._getSecondPointerPosition(e),r=.5*(e.pageX+t.x),n=.5*(e.pageY+t.y);this._panStart.set(r,n)}}_handleTouchStartDolly(e){let t=this._getSecondPointerPosition(e),r=e.pageX-t.x,n=e.pageY-t.y,a=Math.sqrt(r*r+n*n);this._dollyStart.set(0,a)}_handleTouchStartDollyPan(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enablePan&&this._handleTouchStartPan(e)}_handleTouchStartDollyRotate(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enableRotate&&this._handleTouchStartRotate(e)}_handleTouchMoveRotate(e){if(1==this._pointers.length)this._rotateEnd.set(e.pageX,e.pageY);else{let t=this._getSecondPointerPosition(e),r=.5*(e.pageX+t.x),n=.5*(e.pageY+t.y);this._rotateEnd.set(r,n)}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);let t=this.domElement;this._rotateLeft(P*this._rotateDelta.x/t.clientHeight),this._rotateUp(P*this._rotateDelta.y/t.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(e){if(1===this._pointers.length)this._panEnd.set(e.pageX,e.pageY);else{let t=this._getSecondPointerPosition(e),r=.5*(e.pageX+t.x),n=.5*(e.pageY+t.y);this._panEnd.set(r,n)}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(e){let t=this._getSecondPointerPosition(e),r=e.pageX-t.x,n=e.pageY-t.y,a=Math.sqrt(r*r+n*n);this._dollyEnd.set(0,a),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd);let i=(e.pageX+t.x)*.5,o=(e.pageY+t.y)*.5;this._updateZoomParameters(i,o)}_handleTouchMoveDollyPan(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enablePan&&this._handleTouchMovePan(e)}_handleTouchMoveDollyRotate(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enableRotate&&this._handleTouchMoveRotate(e)}_addPointer(e){this._pointers.push(e.pointerId)}_removePointer(e){delete this._pointerPositions[e.pointerId];for(let t=0;t<this._pointers.length;t++)if(this._pointers[t]==e.pointerId)return void this._pointers.splice(t,1)}_isTrackingPointer(e){for(let t=0;t<this._pointers.length;t++)if(this._pointers[t]==e.pointerId)return!0;return!1}_trackPointer(e){let t=this._pointerPositions[e.pointerId];void 0===t&&(t=new a.Vector2,this._pointerPositions[e.pointerId]=t),t.set(e.pageX,e.pageY)}_getSecondPointerPosition(e){let t=e.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0];return this._pointerPositions[t]}_customWheelEvent(e){let t=e.deltaMode,r={clientX:e.clientX,clientY:e.clientY,deltaY:e.deltaY};switch(t){case 1:r.deltaY*=16;break;case 2:r.deltaY*=100}return e.ctrlKey&&!this._controlActive&&(r.deltaY*=10),r}}function o(e){!1!==this.enabled&&(0===this._pointers.length&&(this.domElement.setPointerCapture(e.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),this._isTrackingPointer(e)||(this._addPointer(e),"touch"===e.pointerType?this._onTouchStart(e):this._onMouseDown(e)))}function s(e){!1!==this.enabled&&("touch"===e.pointerType?this._onTouchMove(e):this._onMouseMove(e))}function l(e){switch(this._removePointer(e),this._pointers.length){case 0:this.domElement.releasePointerCapture(e.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(_),this.state=S.NONE;break;case 1:let t=this._pointers[0],r=this._pointerPositions[t];this._onTouchStart({pointerId:t,pageX:r.x,pageY:r.y})}}function c(e){let t;switch(e.button){case 0:t=this.mouseButtons.LEFT;break;case 1:t=this.mouseButtons.MIDDLE;break;case 2:t=this.mouseButtons.RIGHT;break;default:t=-1}switch(t){case a.MOUSE.DOLLY:if(!1===this.enableZoom)return;this._handleMouseDownDolly(e),this.state=S.DOLLY;break;case a.MOUSE.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===this.enablePan)return;this._handleMouseDownPan(e),this.state=S.PAN}else{if(!1===this.enableRotate)return;this._handleMouseDownRotate(e),this.state=S.ROTATE}break;case a.MOUSE.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===this.enableRotate)return;this._handleMouseDownRotate(e),this.state=S.ROTATE}else{if(!1===this.enablePan)return;this._handleMouseDownPan(e),this.state=S.PAN}break;default:this.state=S.NONE}this.state!==S.NONE&&this.dispatchEvent(x)}function d(e){switch(this.state){case S.ROTATE:if(!1===this.enableRotate)return;this._handleMouseMoveRotate(e);break;case S.DOLLY:if(!1===this.enableZoom)return;this._handleMouseMoveDolly(e);break;case S.PAN:if(!1===this.enablePan)return;this._handleMouseMovePan(e)}}function u(e){!1!==this.enabled&&!1!==this.enableZoom&&this.state===S.NONE&&(e.preventDefault(),this.dispatchEvent(x),this._handleMouseWheel(this._customWheelEvent(e)),this.dispatchEvent(_))}function h(e){!1!==this.enabled&&this._handleKeyDown(e)}function p(e){switch(this._trackPointer(e),this._pointers.length){case 1:switch(this.touches.ONE){case a.TOUCH.ROTATE:if(!1===this.enableRotate)return;this._handleTouchStartRotate(e),this.state=S.TOUCH_ROTATE;break;case a.TOUCH.PAN:if(!1===this.enablePan)return;this._handleTouchStartPan(e),this.state=S.TOUCH_PAN;break;default:this.state=S.NONE}break;case 2:switch(this.touches.TWO){case a.TOUCH.DOLLY_PAN:if(!1===this.enableZoom&&!1===this.enablePan)return;this._handleTouchStartDollyPan(e),this.state=S.TOUCH_DOLLY_PAN;break;case a.TOUCH.DOLLY_ROTATE:if(!1===this.enableZoom&&!1===this.enableRotate)return;this._handleTouchStartDollyRotate(e),this.state=S.TOUCH_DOLLY_ROTATE;break;default:this.state=S.NONE}break;default:this.state=S.NONE}this.state!==S.NONE&&this.dispatchEvent(x)}function f(e){switch(this._trackPointer(e),this.state){case S.TOUCH_ROTATE:if(!1===this.enableRotate)return;this._handleTouchMoveRotate(e),this.update();break;case S.TOUCH_PAN:if(!1===this.enablePan)return;this._handleTouchMovePan(e),this.update();break;case S.TOUCH_DOLLY_PAN:if(!1===this.enableZoom&&!1===this.enablePan)return;this._handleTouchMoveDollyPan(e),this.update();break;case S.TOUCH_DOLLY_ROTATE:if(!1===this.enableZoom&&!1===this.enableRotate)return;this._handleTouchMoveDollyRotate(e),this.update();break;default:this.state=S.NONE}}function m(e){!1!==this.enabled&&e.preventDefault()}function g(e){"Control"===e.key&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function y(e){"Control"===e.key&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}n()}catch(e){n(e)}})},7145:(e,t)=>{"use strict";function r(e,t){let r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(let n=r.length;n--;){let a=r[n];if("query"===a){let r=Object.keys(e.query);if(r.length!==Object.keys(t.query).length)return!1;for(let n=r.length;n--;){let a=r[n];if(!t.query.hasOwnProperty(a)||e.query[a]!==t.query[a])return!1}}else if(!t.hasOwnProperty(a)||e[a]!==t[a])return!1}return!0}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"compareRouterStates",{enumerable:!0,get:function(){return r}})},7247:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(2015);let a=n.forwardRef(function({title:e,titleId:t,...r},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{fillRule:"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z",clipRule:"evenodd"}))})},7536:(e,t)=>{"use strict";function r(e){let t={};for(let[r,n]of e.entries()){let e=t[r];void 0===e?t[r]=n:Array.isArray(e)?e.push(n):t[r]=[e,n]}return t}function n(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function a(e){let t=new URLSearchParams;for(let[r,a]of Object.entries(e))if(Array.isArray(a))for(let e of a)t.append(r,n(e));else t.set(r,n(a));return t}function i(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(let t of r){for(let r of t.keys())e.delete(r);for(let[r,n]of t.entries())e.append(r,n)}return e}Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{assign:function(){return i},searchParamsToUrlQuery:function(){return r},urlQueryToSearchParams:function(){return a}})},7779:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"normalizePathTrailingSlash",{enumerable:!0,get:function(){return i}});let n=r(1730),a=r(6290),i=e=>{if(!e.startsWith("/"))return e;let{pathname:t,query:r,hash:i}=(0,a.parsePath)(e);return""+(0,n.removeTrailingSlash)(t)+r+i};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7825:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{HTML_LIMITED_BOT_UA_RE:function(){return n.HTML_LIMITED_BOT_UA_RE},HTML_LIMITED_BOT_UA_RE_STRING:function(){return i},getBotType:function(){return l},isBot:function(){return s}});let n=r(8537),a=/Googlebot|Google-PageRenderer|AdsBot-Google|googleweblight|Storebot-Google/i,i=n.HTML_LIMITED_BOT_UA_RE.source;function o(e){return n.HTML_LIMITED_BOT_UA_RE.test(e)}function s(e){return a.test(e)||o(e)}function l(e){return a.test(e)?"dom":o(e)?"html":void 0}},7861:(e,t,r)=>{"use strict";r.a(e,async(e,n)=>{try{r.r(t),r.d(t,{default:()=>ee});var a=r(8732),i=r(2015),o=r(7173),s=r(7843);r(8088);var l=r(5165),c=r.n(l);r(37);var d=r(2792),u=r(2770),h=r.n(u),p=r(5996),f=r(4695),m=r(1428),g=r(118),y=r.n(g),b=r(8149),x=r(9800),_=r(9845),v=r(1473),w=r(4021),E=r(8164),j=r(8795),P=r(9746),S=r.n(P),R=r(4396),N=r(3910),T=r(1429),O=r.n(T),k=r(4378),C=r(9975),A=r(1113),M=r(1046),I=r(725),L=r(6343),D=r(3849),z=e([o,s,p,f,m,b,x,_,v,w,j,R,k,D]);[o,s,p,f,m,b,x,_,v,w,j,R,k,D]=z.then?(await z)():z;let F=({lat:e,lng:t,zoom:r})=>{let n=(0,o.useMap)();return(0,i.useEffect)(()=>{e&&t&&n.setView([e,t],r??n.getZoom(),{animate:!0})},[e,t,r,n]),null},U=({user:e,setUser:t,guideStep:n=1})=>{let{t:l}=(0,s.useTranslation)(),[u,h]=(0,i.useState)(),[g,P]=(0,i.useState)(!1),[S,T]=(0,i.useState)({nationality:["all"],ethnicity:["all"],edgeType:["all"],entityType:["all"],yearRange:[1800,1945],userNetworkFilter:!1,userNetworkTraceFilter:!1,userNetworkConnectionFilter:!1,migrationReasons:["all"],selectedMigrationNetworkIds:[],searchQuery:"",forceIncludeNetworkIds:[],userNetworkEdgeFilter:!1,networkIds:[],connectionType:["all"],migrationYearRange:[1800,2025]}),[z,ee]=(0,i.useState)("none"),[et,er]=(0,i.useState)(null),[en,ea]=(0,i.useState)(null),{data:ei}=(0,f.zL)(),[eo,es]=(0,i.useState)(null),[el,ec]=(0,i.useState)(!1),ed=(0,p.A)(e=>e.updateEditedNetwork),[eu,eh]=(0,i.useState)([1800,1945]),[ep,ef]=(0,i.useState)(""),[em,eg]=(0,i.useState)(!1),[ey,eb]=(0,i.useState)(!1),[ex,e_]=(0,i.useState)([]),[ev,ew]=(0,i.useState)(null),[eE,ej]=(0,i.useState)(null),[eP,eS]=(0,i.useState)(!0),[eR,eN]=(0,i.useState)(!0),[eT,eO]=(0,i.useState)(!0),[ek,eC]=(0,i.useState)(!1),[eA,eM]=(0,i.useState)(!1),[eI,eL]=(0,i.useState)(null),[eD,ez]=(0,i.useState)([]),[eF,eU]=(0,i.useState)(""),[eH,eB]=(0,i.useState)(!0),[e$,eW]=(0,i.useState)(0),[eY,eX]=(0,i.useState)([]),[eV,eq]=(0,i.useState)({}),[eK,eG]=(0,i.useState)([1800,1945]),[eZ,eQ]=(0,i.useState)(1),eJ={lat:30,lng:170,zoom:3},[e0,e1]=(0,i.useState)(5),[e2,e5]=(0,i.useState)(null),[e3,e8]=(0,i.useState)([]),[e4,e7]=(0,i.useState)(!1),[e6,e9]=(0,i.useState)(!1),te=async(e,t)=>{if(e3.some(t=>t.id===e.id))return;let r="";try{r=(await m.default.get(`http://localhost:8080/networks/photo/${e.id}`)).data.photo}catch(e){}e8(n=>[...n,{id:e.id,position:t,network:e,photo:r}])},tt=e=>{e8(t=>t.filter(t=>t.id!==e))},tr=(0,i.useRef)(null),tn=()=>{ea({lat:eJ.lat,lng:eJ.lng}),setTimeout(()=>{e1(eJ.zoom),e1(3)},200)},ta=e=>{ea({lat:e.latitude,lng:e.longitude}),e1(7)};(0,i.useEffect)(()=>(tr.current=new Worker(new URL(r.p+r.u(572),r.b)),tr.current&&(tr.current.onmessage=e=>{let{type:t,payload:r}=e.data;"FILTERED_NETWORKS"===t&&eX(r),"CENTRALITY_RESULT"===t&&eq(r),"PROGRESS"===t&&eW(r)}),()=>{tr.current?.terminate()}),[]),(0,i.useEffect)(()=>{u&&tr.current?.postMessage({type:"FILTER_NETWORKS",payload:{networks:u,filters:S,userName:e.name,selectedEdgeId:ev}})},[u,S,e.name,ev]),(0,i.useEffect)(()=>{if(u&&e2!==n){if(1===n)T(e=>({...e,entityType:["Person"],nationality:["Korea"],ethnicity:["Korean"]})),e5(1);else if(2===n)T(e=>({...e,entityType:["Person"],nationality:["Russia"],ethnicity:["Korean"]})),e5(2);else if(3===n){let e=u.find(e=>"Person"===e.type&&"Korean"===e.ethnicity&&e.title.includes("정재관"));e&&(T(t=>({...t,entityType:["Person"],nationality:["all"],ethnicity:["Korean"],searchQuery:"",forceIncludeNetworkIds:[e.id,...e.edges?.map(e=>e.targetId)||[]]})),ts(e.id),td(e.id),tl(e.id),te(e,{x:e.latitude,y:e.longitude}),setTimeout(()=>{tn()},500),e5(3))}}},[n,u,e2]),(0,i.useEffect)(()=>{tr.current?.postMessage({type:"CALCULATE_CENTRALITY",payload:{filteredNetworks:eY,centralityType:z}})},[eY,z]),(0,i.useMemo)(()=>O()(e=>{eU(e)},300),[]),e.isLoggedIn,(0,i.useEffect)(()=>{ei&&h(ei)},[ei]),(0,i.useEffect)(()=>{let e=setTimeout(()=>{eB(!1)},2e3);return()=>clearTimeout(e)},[]),(0,i.useEffect)(()=>{let e=c().layerGroup();return u&&u.length>0&&u.forEach(t=>{let{latitude:r,longitude:n,title:a}=t,i=c().marker([r,n]).bindPopup(`<b>${a}</b><br>Lat: ${r}, Lng: ${n}`);e.addLayer(i)}),()=>{e.clearLayers()}},[U,u]);let ti=u?.flatMap(t=>t.migration_traces.filter(r=>{let n=r.migration_year>=eK[0]&&r.migration_year<=eK[1],a=!S.userNetworkTraceFilter||!e.name||t.user_name===e.name,i=S.migrationReasons.includes("all")||0===S.migrationReasons.length||S.migrationReasons.includes(r.reason);return n&&a&&i}))??[];ti.map(e=>[e.latitude,e.longitude]);let to=(e,t,r,n)=>{let a=e=>e*Math.PI/180,i=a(r-e),o=a(n-t),s=Math.sin(i/2)**2+Math.cos(a(e))*Math.cos(a(r))*Math.sin(o/2)**2,l=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return 6371*l};ti.reduce((e,t,r)=>{if(0===r)return 0;let n=ti[r-1];return e+to(n.latitude,n.longitude,t.latitude,t.longitude)},0);let ts=async e=>{let t=tu(e);if(t){let r="";if(!t.photo)try{let t=await m.default.get(`http://localhost:8080/networks/photo/${e}`,{responseType:"blob"});r=URL.createObjectURL(t.data)}catch(e){r=""}3!==n&&ta(t),er(t=>t&&t.id===e?null:{id:e,photo:r}),eL({x:t.latitude,y:t.longitude}),e8(n=>n.some(t=>t.id===e)?n:[...n,{id:e,position:{x:t.latitude,y:t.longitude},network:t,photo:r}])}else console.warn(`Entity with ID ${e} not found.`)},tl=e=>{e_(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e]),T(t=>({...t,selectedMigrationNetworkIds:t.selectedMigrationNetworkIds.includes(e)?t.selectedMigrationNetworkIds.filter(t=>t!==e):[...t.selectedMigrationNetworkIds,e]}))},tc=e=>{ew(t=>t===e?null:e);let t=u?.find(t=>t.edges.some(t=>t.targetId===e));t&&T(e=>({...e,forceIncludeNetworkIds:[...e.forceIncludeNetworkIds||[],t.id]}))},td=e=>{ej(t=>t===e?null:e)},tu=e=>u?.find(t=>t.id===e)||null,th=e=>"gray",tp=()=>{let t=[],r=r=>{(r.edges||[]).forEach(n=>{let a=!ev||n.targetId===ev,i=!eE||r.id===eE,o=S.edgeType.includes("all")||S.edgeType.includes(n.edgeType),s=Number(n.year)>=Number(S.yearRange[0])&&Number(n.year)<Number(S.yearRange[1]);if(a&&i&&o&&s){let a=u?.find(e=>e.id===n.targetId),i=!S.userNetworkConnectionFilter||!e.name||r.user_name===e.name||a&&a.user_name===e.name;a&&i&&t.push([[r.latitude,r.longitude],[a.latitude,a.longitude],th(n.edgeType),n.strength,n.edgeType,n.year])}})};return u?.forEach(e=>{let t=new Date(`${e.migration_year}-01-01`);(S.entityType.includes("all")||S.entityType.includes(e.type))&&(S.nationality.includes("all")||S.nationality.includes(e.nationality))&&(S.ethnicity.includes("all")||S.ethnicity.includes(e.ethnicity))&&t.getFullYear()>=S.yearRange[0]&&t.getFullYear()<=S.yearRange[1]&&r(e)}),t},tf=(e,t)=>{T(r=>{let n={...r,[e]:t};return"nationality"===e&&Array.isArray(t)&&0===t.length&&(n.nationality=["all"]),"ethnicity"===e&&Array.isArray(t)&&0===t.length&&(n.ethnicity=["all"]),"edgeType"===e&&Array.isArray(t)&&0===t.length&&(n.edgeType=["all"]),"entityType"===e&&Array.isArray(t)&&0===t.length&&(n.entityType=["all"]),"migrationReasons"===e&&Array.isArray(t)&&0===t.length&&(n.migrationReasons=["all"]),n})};u&&u.filter(t=>{let r="all"===S.nationality||t.nationality===S.nationality,n="all"===S.ethnicity||t.ethnicity===S.ethnicity,a=t.migration_year>=S.yearRange[0]&&t.migration_year<=S.yearRange[1],i=!S.userNetworkFilter||!e.name||t.user_name===e.name;return r&&n&&a&&i});let tm=Array.from(new Set(u?.map(e=>e.type))).map(e=>({value:e,label:e})),tg=Array.from(new Set(u?.map(e=>e.nationality))).map(e=>({value:e,label:e})),ty=Array.from(new Set(u?.map(e=>e.ethnicity))).map(e=>({value:e,label:e})),tb=Array.from(new Set((u||[]).flatMap(e=>(e.edges||[]).map(e=>e.edgeType)))).map(e=>({value:e,label:e})),tx=Array.from(new Set(u?.flatMap(e=>e.migration_traces.map(e=>e.reason)))).map(e=>({value:e,label:e})),t_=(0,i.useMemo)(()=>(0,E.O)(eY,z),[eY,z]),tv=Object.entries(t_).filter(([e])=>eY.some(t=>t.id===Number(e))).sort(([,e],[,t])=>t-e).slice(0,5).map(([e,t])=>{let r=eY.find(t=>t.id===Number(e));return{id:Number(e),name:String(r?r.title:"Unknown"),centrality:t}}),tw=u?.reduce((e,t)=>{let r=t.user_id;return e[r]||(e[r]={userName:t.user_name,networkCount:0,edgeCount:0,traceCount:0,totalScore:0}),e[r].networkCount+=1,e[r].edgeCount+=t.edges?.length||0,e[r].traceCount+=t.migration_traces?.length||0,e[r].totalScore=e[r].networkCount+e[r].edgeCount+e[r].traceCount,e},{})||{},tE=Object.entries(tw).sort(([,e],[,t])=>t.totalScore-e.totalScore).slice(0,5).map(([e,t],r)=>({registrantId:Number(e),userName:t.userName,totalScore:t.totalScore,networkCount:t.networkCount,edgeCount:t.edgeCount,traceCount:t.traceCount,medal:0===r?"\uD83E\uDD47":1===r?"\uD83E\uDD48":2===r?"\uD83E\uDD49":3===r?"4️⃣":"5️⃣",display:`${t.totalScore} ${l("Points")}`})),tj=async e=>{(0,j.p4)(e);try{let t=(await m.default.get(`http://localhost:8080/networks/photo/${e}`)).data.photo;er({id:e,photo:t});let r=tu(e);r&&eL({x:r.latitude,y:r.longitude})}catch(t){console.error("Error fetching photo:",t),er({id:e,photo:""})}},tP=(0,i.useRef)([]),tS=(0,i.useRef)([]);(0,i.useEffect)(()=>{let e=tN(),t=tp(),r=JSON.stringify(tP.current)!==JSON.stringify(e),n=JSON.stringify(tS.current)!==JSON.stringify(t);if((r||n)&&(tP.current=e,tS.current=t,eY&&eY.length>0)){let r=e.flat(),n=(0,N.h)(eY,t,r);ez(n)}},[eY,S,eu]);let tR=(e,t,r)=>{let n=r.filter(t=>t.network_id===e);if(!n.length)return null;let a=1/0,i=n[0];return n.forEach(e=>{let r=Math.abs(e.migration_year-t);r<a&&(a=r,i=e)}),i},tN=()=>{let t={};return u?.forEach(e=>{t[e.id]||(t[e.id]=[]),(!S.selectedMigrationNetworkIds.length||S.selectedMigrationNetworkIds.includes(e.id))&&e.migration_traces.forEach(r=>{t[e.id]||(t[e.id]=[]),r.migration_year>=eK[0]&&r.migration_year<=eK[1]&&(S.migrationReasons.includes("all")||S.migrationReasons.includes(r.reason))&&(S.entityType.includes("all")||S.entityType.includes(e.type))&&(S.nationality.includes("all")||S.nationality.includes(e.nationality))&&(S.ethnicity.includes("all")||S.ethnicity.includes(e.ethnicity))&&t[e.id].push(r)})}),Object.values(t).map(e=>e.sort((e,t)=>e.migration_year-t.migration_year).map((e,t)=>({...e,traceNumber:t+1}))).filter(t=>{let r=t.some(e=>e.migration_year>=eK[0]&&e.migration_year<=eK[1]),n=!S.userNetworkTraceFilter||!e.name||u&&t&&t[0]&&u.some(r=>r.id===t[0].network_id&&r.user_name===e.name),a=S.migrationReasons.includes("all")||0===S.migrationReasons.length||t.some(e=>S.migrationReasons.includes(e.reason));return r&&n&&a})},tT=(0,i.useMemo)(()=>tN(),[u,S,eK,ex,e.name]);return((0,i.useEffect)(()=>{ei&&ei.length>0&&(h(ei),setTimeout(()=>{T(e=>({...e,ethnicity:["Korean"]}))},0))},[ei]),e$<100)?(0,a.jsx)(M.A,{progress:e$}):(0,a.jsxs)("div",{className:"h-[calc(87vh-64px)] relative",children:[(0,a.jsxs)("div",{className:"p-2 bg-[#d1c6b1] relative w-full",children:[(0,a.jsxs)(Y,{isVisible:eP,children:[(0,a.jsx)(W,{onClick:()=>{eb(!ey)},children:ey?"2D":"3D"}),(0,a.jsx)("div",{className:"p-1 border rounded bg-[#d1c6b1] flex flex-wrap gap-1 items-center border-2 border-[#9e9d89]",children:(0,a.jsxs)($,{children:[(0,a.jsx)(x.default,{options:tm,onChange:e=>tf("entityType",e?e.map(e=>e.value):["all"]),value:Array.isArray(S.entityType)?tm.filter(e=>S.entityType.includes(e.value)&&"all"!==e.value):[],placeholder:l("allEntityTypes"),isClearable:!0,isMulti:!0,styles:{...B,multiValue:e=>({...e,display:"inline-flex",alignItems:"center",margin:"0 4px"}),multiValueLabel:e=>({...e,whiteSpace:"normal",overflow:"visible"}),multiValueRemove:e=>({...e,cursor:"pointer"}),menuPortal:e=>({...e,zIndex:9999})},menuPortalTarget:document.body,menuPlacement:"auto",menuPosition:"fixed",className:"p-1 rounded text-sm w-full focus:outline-none focus:ring-2 focus:ring-amber-500"}),(0,a.jsx)(x.default,{options:tg,onChange:e=>tf("nationality",e?e.map(e=>e.value):["all"]),value:Array.isArray(S.nationality)?tg.filter(e=>S.nationality.includes(e.value)&&"all"!==e.value):[],placeholder:l("allNationalities"),isClearable:!0,isMulti:!0,styles:{...B,multiValue:e=>({...e,display:"inline-flex",alignItems:"center",margin:"0 4px"}),multiValueLabel:e=>({...e,whiteSpace:"normal",overflow:"visible"}),multiValueRemove:e=>({...e,cursor:"pointer"}),menuPortal:e=>({...e,zIndex:9999})},menuPortalTarget:document.body,menuPlacement:"auto",menuPosition:"fixed",className:"p-1 rounded text-sm w-full focus:outline-none focus:ring-2 focus:ring-amber-500"}),(0,a.jsx)(x.default,{options:ty,onChange:e=>tf("ethnicity",e?e.map(e=>e.value):["all"]),value:Array.isArray(S.ethnicity)?S.ethnicity.filter(e=>"all"!==e&&ty.some(t=>t.value===e)).map(e=>({value:e,label:e})):[],placeholder:l("allEthnicities"),isClearable:!0,isMulti:!0,styles:{...B,multiValue:e=>({...e,display:"inline-flex",alignItems:"center",margin:"0 4px"}),multiValueLabel:e=>({...e,whiteSpace:"normal",overflow:"visible"}),multiValueRemove:e=>({...e,cursor:"pointer"}),menuPortal:e=>({...e,zIndex:9999})},menuPortalTarget:document.body,menuPlacement:"auto",menuPosition:"fixed",className:"p-1 rounded text-sm w-full focus:outline-none focus:ring-2 focus:ring-amber-500"})]})}),(0,a.jsxs)("div",{className:"p-1 border rounded bg-[#d1c6b1] flex gap-2 items-center border-2 border-[#9e9d89]",children:[(0,a.jsx)("label",{className:"text-sm",children:l("yearRange")}),(0,a.jsx)(C.A,{value:S.yearRange,onChange:e=>tf("yearRange",e),placeholderStart:"1800",placeholderEnd:"2024"}),(0,a.jsx)(x.default,{options:tb,onChange:e=>tf("edgeType",e?e.map(e=>e.value):["all"]),value:Array.isArray(S.edgeType)?S.edgeType.filter(e=>"all"!==e).map(e=>({value:e,label:e})):[],placeholder:l("allConnectionTypes"),isClearable:!0,isMulti:!0,styles:{...B,multiValue:e=>({...e,display:"inline-flex",alignItems:"center",margin:"0 4px"}),multiValueLabel:e=>({...e,whiteSpace:"normal",overflow:"visible"}),multiValueRemove:e=>({...e,cursor:"pointer"}),menuPortal:e=>({...e,zIndex:9999})},menuPortalTarget:document.body,menuPlacement:"auto",menuPosition:"fixed",className:"p-1 rounded text-sm w-full focus:outline-none focus:ring-2 focus:ring-amber-500"}),e.isLoggedIn?(0,a.jsx)(x.default,{options:[{value:"none",label:l("selectCentrality")},{value:"degree",label:l("degreeCentrality")},{value:"eigenvector",label:l("eigenvectorCentrality")}],onChange:e=>ee(e?e.value:"none"),value:{value:z,label:l("none"===z?"selectCentrality":`${z}Centrality`)},placeholder:l("selectCentrality"),styles:{...B,multiValue:e=>({...e,display:"inline-flex",alignItems:"center",margin:"0 4px"}),multiValueLabel:e=>({...e,whiteSpace:"normal",overflow:"visible"}),multiValueRemove:e=>({...e,cursor:"pointer"}),menuPortal:e=>({...e,zIndex:9999})},menuPortalTarget:document.body,menuPlacement:"auto",menuPosition:"fixed",className:"p-1 rounded text-sm w-full focus:outline-none focus:ring-2 focus:ring-amber-500"}):(0,a.jsx)(a.Fragment,{})]}),(0,a.jsxs)("div",{className:"p-1 border rounded bg-[#d1c6b1] flex gap-2 items-center border-2 border-[#9e9d89]",children:[(0,a.jsx)("label",{className:"text-sm",children:l("migrationTraceability")}),(0,a.jsx)(A.A,{value:eK,onChange:eG,placeholderStart:"1800",placeholderEnd:"2024"}),(0,a.jsx)(x.default,{options:tx,onChange:e=>tf("migrationReasons",e?e.map(e=>e.value):["all"]),placeholder:l("allMigrationReasons"),isClearable:!0,isMulti:!0,styles:{...B,multiValue:e=>({...e,display:"inline-flex",alignItems:"center",margin:"0 4px"}),multiValueLabel:e=>({...e,whiteSpace:"normal",overflow:"visible"}),multiValueRemove:e=>({...e,cursor:"pointer"}),menuPortal:e=>({...e,zIndex:9999})},menuPortalTarget:document.body,menuPlacement:"auto",menuPosition:"fixed",className:"p-1 rounded text-sm w-full focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),(0,a.jsxs)("div",{className:"p-1 border rounded bg-[#d1c6b1] flex gap-0.5 items-center border-2 border-[#9e9d89]",children:[e.isLoggedIn?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"ml-1 flex items-center gap-0.5",children:[(0,a.jsx)("input",{type:"checkbox",id:"userNetworkFilter",className:"w-2 h-2",checked:S.userNetworkFilter,defaultChecked:!1,onChange:e=>tf("userNetworkFilter",e.target.checked)}),(0,a.jsx)("label",{htmlFor:"userNetworkFilter",className:"text-xs",children:l("filterByUserNetwork")})]}),(0,a.jsxs)("div",{className:"ml-1 flex items-center gap-0.5",children:[(0,a.jsx)("input",{type:"checkbox",id:"userNetworkConnectionFilter",className:"w-2 h-2",checked:S.userNetworkConnectionFilter,defaultChecked:!1,onChange:e=>tf("userNetworkConnectionFilter",e.target.checked)}),(0,a.jsx)("label",{htmlFor:"userNetworkConnectionFilter",className:"text-xs",children:l("filterByUserNetworkConnection")})]}),(0,a.jsxs)("div",{className:"ml-1 flex items-center gap-0.5",children:[(0,a.jsx)("input",{type:"checkbox",id:"userNetworkTraceFilter",className:"w-2 h-2",checked:S.userNetworkTraceFilter,defaultChecked:!1,onChange:e=>tf("userNetworkTraceFilter",e.target.checked)}),(0,a.jsx)("label",{htmlFor:"userNetworkTraceFilter",className:"text-xs",children:l("filterByUserNetworkTrace")})]})]}):(0,a.jsx)(a.Fragment,{}),(0,a.jsx)(k.A,{onSearch:e=>{ef(e),""!==e.trim()&&eg(e=>!e)}})]})]}),em&&ep&&(0,a.jsx)("div",{className:`flex justify-end absolute w-full z-10 ${em?"block":"hidden"}`,style:{top:"4rem",right:"0",opacity:.8*!!em,pointerEvents:"none"},children:(0,a.jsx)("div",{className:"bg-white shadow rounded p-4 border border-gray-300 max-h-80 overflow-y-auto",style:{maxWidth:"30%",marginRight:"1rem",position:"relative",backgroundColor:"rgba(255, 255, 255, 0.8)",pointerEvents:"auto"},children:(0,a.jsx)(b.A,{searchQuery:ep,setFocusedNode:ea,handleEntityClick:ts,handleMigrationTraceClick:tl,handleEdgeClick:tc,handleNetworkEdgesToggle:td})})})]}),ey?(0,a.jsx)(v.A,{networks:u,filters:S,filteredNetworks:eY,filteredTraces:ti,filteredEdges:(()=>{let e=[];return u?.forEach(t=>{(t.edges||[]).forEach(r=>{let n=S.edgeType.includes("all")||S.edgeType.includes(r.edgeType),a=Number(r.year)>=Number(S.yearRange[0])&&Number(r.year)<=Number(S.yearRange[1]);if(n&&a){let n=u.find(e=>e.id===r.targetId);n&&e.push({startLat:t.latitude,startLon:t.longitude,endLat:n.latitude,endLon:n.longitude,edgeType:r.edgeType,year:r.year})}})}),e})(),handleEdgeClick:tc,handleNetworkEdgesToggle:td}):(0,a.jsxs)(o.MapContainer,{center:[40,130],zoom:5,zoomControl:!1,style:{height:"calc(100vh - 64px - 64px)",width:"100%",position:"relative",zIndex:0},maxBounds:[[90,-360],[-90,360]],maxBoundsViscosity:1.2,minZoom:3,children:[(0,a.jsx)(()=>((0,o.useMapEvents)({contextmenu(e){es(e.latlng)}}),null),{}),(0,a.jsx)(()=>((0,o.useMapEvents)({click:e=>{e.originalEvent.target instanceof HTMLElement&&e.originalEvent.target.closest(".legend-container")||er(null)}}),null),{})," ",eo&&(0,a.jsx)(o.Marker,{position:eo,children:(0,a.jsx)(o.Popup,{children:(0,a.jsxs)("div",{style:{textAlign:"center"},children:[(0,a.jsxs)("p",{style:{marginBottom:"10px"},children:[(0,a.jsx)("strong",{children:"Lat:"})," ",eo.lat]}),(0,a.jsxs)("p",{style:{marginBottom:"20px"},children:[(0,a.jsx)("strong",{children:"Lng:"})," ",eo.lng]}),(0,a.jsx)("button",{className:"copy-btn","data-clipboard-text":`${eo.lat}, ${eo.lng}`,onClick:()=>{eo&&(ed({id:0,user_id:0,title:"",type:"Person",nationality:"",ethnicity:"",migration_year:0,end_year:0,latitude:eo.lat,longitude:eo.lng,migration_traces:[],connections:[{targetType:"Person",targetId:0,strength:0,type:"",year:0}],edge:[]}),new(y())(".copy-btn",{text:()=>`${eo.lat}, ${eo.lng}`}).on("success",()=>{ec(!0),setTimeout(()=>ec(!1),2e3)}))},style:{padding:"10px 20px",fontSize:"16px",backgroundColor:el?"green":"#007BFF",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer",transition:"background-color 0.3s ease"},children:el?(0,a.jsx)("span",{children:"Copied!"}):"Copy"})]})})}),en&&(0,a.jsx)(F,{lat:en.lat,lng:en.lng,zoom:e0}),(0,a.jsx)("button",{onClick:()=>{eO(!eT)},style:{position:"absolute",top:"0rem",left:"0rem",zIndex:2e3,backgroundColor:"#3e2723",color:"#fff",border:"none",borderRadius:"8px",padding:"8px 12px",cursor:"pointer"},children:eT?"-":"+"}),(0,a.jsx)("button",{onClick:()=>{eN(!eR)},style:{position:"absolute",top:"0rem",right:"0rem",zIndex:2e3,backgroundColor:"#3e2723",color:"#fff",border:"none",borderRadius:"8px",padding:"8px 12px",cursor:"pointer"},children:eR?"-":"+"}),eT&&(0,a.jsxs)(H,{children:[(0,a.jsx)("h2",{children:l("topRegistrants")}),(0,a.jsxs)("div",{style:{fontSize:"0.7rem",color:"#4b1e22",marginBottom:"0.2rem",fontWeight:"bold",textAlign:"center"},children:[l("Score"),"(",l("Node"),"+",l("Edge"),"+",l("Mobility"),")"]}),(0,a.jsx)("ul",{children:tE.map(e=>(0,a.jsxs)("div",{children:[e.medal," ",e.userName," : ",e.display]},e.registrantId))})]}),eR&&(0,a.jsx)(R.s,{topNetworks:tv,onEntityClick:ts,centralityType:z,networkAnalysis:eD}),(0,a.jsx)("button",{onClick:()=>{eM(e=>!e)},style:{position:"absolute",top:"2rem",right:"0rem",zIndex:2e3,backgroundColor:"#3e2723",color:"#fff",border:"none",borderRadius:"8px",padding:"8px 12px",cursor:"pointer"},children:eA?"-":"+"}),(0,a.jsx)("button",{onClick:()=>{eC(e=>!e)},style:{position:"absolute",top:"4rem",right:"0rem",zIndex:2e3,backgroundColor:"#3e2723",color:"#fff",border:"none",borderRadius:"8px",padding:"8px 12px",cursor:"pointer"},children:ek?"-":"+"}),(0,a.jsx)(o.TileLayer,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),e3.map(e=>(0,a.jsxs)(d.A,{onClose:()=>tt(e.id),children:[(0,a.jsxs)(X,{children:[(0,a.jsxs)("strong",{className:"text-lg font-semibold block mb-2",children:["No.",e.network.id," : ",e.network.title]}),(0,a.jsxs)("div",{className:"text-gray-700 text-sm space-y-1",children:[e.photo&&(0,a.jsx)("div",{className:"flex justify-center mb-2",children:(0,a.jsx)("img",{src:e.photo,alt:"Network",className:"w-24 h-24 object-cover rounded-lg shadow-md"})}),(0,a.jsxs)(K,{children:[(0,a.jsx)(G,{onClick:()=>td(e.network.id),active:eE===e.network.id,title:l("Show only this network's connections"),style:{background:"#fff3e0",color:"#e65100",border:"1.5px solid #ffe0b2"},children:eE===e.network.id?` ${l("Connections")}-${e.network.title.length>8?e.network.title.slice(0,8)+"…":e.network.title}`:l("All Connections")}),(0,a.jsx)(G,{onClick:()=>tl(e.network.id),active:ex.includes(e.network.id),title:l("Show only this network's migrations"),style:{background:"#e3f2fd",color:"#1976d2",border:"1.5px solid #bbdefb"},children:ex.includes(e.network.id)?`${l("Mobility")}-${e.network.title.length>8?e.network.title.slice(0,8)+"…":e.network.title} `:l("All Mobility")})]}),(0,a.jsxs)("p",{children:[(0,a.jsxs)("span",{className:"font-medium",children:[l("Creator Name"),":"]})," ",e.network.user_name]}),(0,a.jsxs)("p",{children:[(0,a.jsxs)("span",{className:"font-medium",children:[l("Type"),":"]})," ",e.network.type]}),(0,a.jsxs)("p",{children:[l("Centrality"),": ",t_[e.network.id]||0]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium",children:l("Nationality")})," ",e.network.nationality]}),(0,a.jsxs)("p",{children:[(0,a.jsxs)("span",{className:"font-medium",children:[l("Ethnicity"),":"]})," ",e.network.ethnicity]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Person"===e.network.type?l("Birth Year"):l("Established Year")}),(0,a.jsxs)("span",{className:"font-medium",children:[": ",e.network.migration_year]})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Person"===e.network.type?l("Death Year"):l("Dissolved Year")}),(0,a.jsxs)("span",{className:"font-medium",children:[": ",e.network.end_year]})]}),(0,a.jsxs)("p",{children:[(0,a.jsxs)("span",{className:"font-medium",children:[l("Latitude"),":"]})," ",e.network.latitude.toFixed(5)]}),(0,a.jsxs)("p",{children:[(0,a.jsxs)("span",{className:"font-medium",children:[l("Longitude"),":"]})," ",e.network.longitude.toFixed(5)]})]}),(0,a.jsxs)("div",{style:{margin:"1rem 0"},children:[(0,a.jsx)("button",{onClick:()=>e7(e=>!e),style:{background:"#e3f2fd",color:"#1976d2",border:"none",borderRadius:"6px",padding:"0.5em 1.2em",fontWeight:600,fontSize:"1.05em",cursor:"pointer",marginBottom:"0.3em",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",transition:"background 0.2s, color 0.2s"},children:l("Mobility")}),(0,a.jsx)(Z,{open:e4,children:(0,a.jsxs)(Q,{children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:l("No.")}),(0,a.jsx)("th",{children:l("Year")}),(0,a.jsx)("th",{children:l("Place")}),(0,a.jsx)("th",{children:l("Reason")})]})}),(0,a.jsx)("tbody",{children:e.network.migration_traces.sort((e,t)=>e.migration_year-t.migration_year).map((e,t)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:t+1}),(0,a.jsx)("td",{children:e.migration_year}),(0,a.jsx)("td",{children:e.location_name}),(0,a.jsx)("td",{children:e.reason})]},e.id))})]})})]}),(0,a.jsxs)("div",{style:{margin:"1rem 0"},children:[(0,a.jsx)("button",{onClick:()=>e9(e=>!e),style:{background:"#fff3e0",color:"#e65100",border:"none",borderRadius:"6px",padding:"0.5em 1.2em",fontWeight:600,fontSize:"1.05em",cursor:"pointer",marginBottom:"0.3em",boxShadow:"0 1px 3px rgba(255,152,0,0.07)",transition:"background 0.2s, color 0.2s"},children:l("Connections")}),(0,a.jsx)(Z,{open:e6,children:(0,a.jsxs)(J,{children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:l("Type")}),(0,a.jsx)("th",{children:l("Target")}),(0,a.jsx)("th",{children:l("Year")}),(0,a.jsx)("th",{children:l("Strength")})]})}),(0,a.jsx)("tbody",{children:e.network.edges?.map((e,t)=>{let r=u?.find(t=>t.id===e.targetId);return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:e.edgeType}),(0,a.jsx)("td",{children:r?r.title:e.targetId}),(0,a.jsx)("td",{children:e.year}),(0,a.jsx)("td",{children:e.strength})]},t)})})]})})]}),(0,a.jsxs)("div",{className:"mt-2 mb-2 border rounded text-xs",style:{backgroundColor:"rgba(33, 150, 243, 0.18)",borderColor:"#90caf9"},children:[(0,a.jsxs)("b",{children:["\uD83D\uDCA1 ",l("Smilarity Insight")]}),(0,a.jsx)(V,{children:(0,I.u)(e.network,eY,3).map(e=>(0,a.jsxs)(q,{title:e.title,onClick:()=>{tj(e.id),td(e.id),tl(e.id);let t=tu(e.id);t&&3!==n&&ta(t)},style:{cursor:"pointer"},children:[(0,a.jsx)("span",{className:"item-title",children:e.title}),(0,a.jsxs)("span",{className:"item-meta",children:["(",e.type,", ",e.nationality,", ",e.ethnicity,")"]})]},e.id))})]}),(0,a.jsx)(L.A,{originId:e.network.id,originTitle:e.network.title,migrationPath:e.network.migration_traces.map(e=>({year:e.migration_year,place:e.location_name,reason:e.reason})),networkSummary:`
이 네트워크의 주요 인물과 단체, 그리고 이들 사이의 관계는 다음과 같습니다:

이 네트워크의 관계망 스토리를 3문장으로 요약해줘.
`,edges:e.network.edges?.map(e=>{let t=u?.find(t=>t.id===e.targetId);return{targetId:e.targetId,targetTitle:t?t.title:"",year:e.year,edgeType:e.edgeType}})??[]})]}),(0,a.jsx)("div",{className:"max-h-32 max-w-full overflow-y-auto border-t pt-2",style:{width:"100%",maxHeight:"200px",marginTop:"16px"},children:(0,a.jsx)(_.A,{networkId:e.network.id})})]},e.id)),(0,a.jsx)(()=>((0,o.useMapEvents)({click(e){eL({x:e.containerPoint.x,y:e.containerPoint.y})}}),null),{}),tT.map(e=>e.map(t=>{let r=u?.find(e=>e.id===t.network_id);r&&r.title;let n=14+1.3*t.traceNumber;return e.some(e=>e.id!==t.id&&e.latitude===t.latitude&&e.longitude===t.longitude)?null:(0,a.jsx)(o.Marker,{position:[t.latitude,t.longitude],icon:c().divIcon({className:"custom-trace-marker",html:`<div style="
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            width: ${n}px;
            height: ${n}px;
            background-color: #FF5722;
            color: white;
            border-radius: 50%;
            font-size: ${n/1.2}px;
            font-weight: bold;
            border: 2px solid #BF360C;">
            ${t.traceNumber}
          </div>`}),eventHandlers:{click:()=>{let e=u?.find(e=>e.id===t.network_id);e&&te(e,{x:t.latitude,y:t.longitude})}},children:ek&&(0,a.jsx)(o.Tooltip,{permanent:!0,direction:"top",offset:[0,-12],className:"custom-tooltip",opacity:.7,children:(0,a.jsxs)("div",{style:{textAlign:"center",fontSize:"16px",fontWeight:"bold",color:"#3E2723"},children:[t.reason," (",t.migration_year,")"]})})},t.id)})),tT.map(e=>e.slice(0,-1).map((t,r)=>{let n=e[r+1];return t.network_id!==n.network_id?null:(0,a.jsx)(o.Polyline,{positions:[[t.latitude,t.longitude],[n.latitude,n.longitude]],color:"#1976d2",weight:3,opacity:.7,dashArray:"5, 5",lineCap:"round",lineJoin:"round",eventHandlers:{click:e=>{c().popup().setLatLng(e.latlng).setContent(`<div>
                      <strong>{t("Network ID")}:</strong> ${n.network_id}<br/>
                      <strong>{t("Migration Year")}:</strong> ${n.migration_year}<br/>
                      <strong>{t("Location")}:</strong> ${n.location_name}<br/>
                      <strong>{t("Reason")}:</strong> ${n.reason}
                    </div>`).openOn(e.target._map)}}},`${t.id}-${n.id}`)})),tT.map(e=>e.slice(0,-1).map((t,r)=>{let n=e[r+1];return t&&n&&t.latitude&&t.longitude&&n.latitude&&n.longitude?(0,a.jsx)(w.A,{traces:tT.flat()}):(console.warn("Invalid trace data:",{trace:t,nextTrace:n}),null)})),eY.filter(e=>!eE||e.id===eE).flatMap(e=>Array.isArray(e.edges)?e.edges.map((t,r)=>{let n=tT.flat(),i=tR(e.id,t.year,n),s=tR(t.targetId,t.year,n);if(!i||!s)return null;let d=[[i.latitude,i.longitude],[s.latitude,s.longitude]],h=Math.max(1,Math.min(5,2*t.strength));return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Polyline,{positions:[[i.latitude,i.longitude],[s.latitude,s.longitude]],color:"#e65100",weight:h,dashArray:"5, 5",eventHandlers:{click:r=>{c().popup().setLatLng(r.latlng).setContent(`<div>
                            <strong>${l("Connections")}</strong><br/>
                            ${l("Source")}: ${e.title}<br/>
                            ${l("Target")}: ${u?.find(e=>e.id===t.targetId)?.title||t.targetId}<br/>
                            ${l("Year")}: ${t.year}<br/>
                            ${l("Type")}: ${l(t.edgeType)}<br/>
                            ${l("Strength")}: ${t.strength}
                          </div>`).openOn(r.target._map)}},children:eA&&(0,a.jsx)(o.Tooltip,{permanent:!0,direction:"center",opacity:.7,children:(0,a.jsxs)("span",{children:[l(t.edgeType)," (",t.strength,", ",t.year,")"]})})},`edge-trace-${e.id}-${t.targetId}-${t.year}-${r}`),(0,a.jsx)(D.A,{positions:d,patterns:[{offset:"50%",repeat:0,symbol:c().Symbol.arrowHead({pixelSize:5+h,polygon:!0,pathOptions:{color:"#FF0000",fillOpacity:1,weight:h}})}]})]})}):[])]})]})},H=h().div`
  position: absolute;
  top: 0.5rem; /* 맵 상단에 더 가깝게 */
  left: 1.4rem; /* 맵 왼쪽에 더 가깝게 */
  width: 10rem; /* 박스 너비를 더 작게 */
  background-color: rgba(255, 255, 255, 0.7);
  padding: 7px; /* 패딩을 줄임 */
  border: 1px solid #ccc;
  border-radius: 0.5rem; /* 둥근 모서리 크기 축소 */
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); /* 그림자 크기 축소 */
  z-index: 1000;
  font-size: 0.7rem; /* 기본 글자 크기 축소 */
  h2 {
    font-size: 0.9rem; /* 제목 글자 크기 축소 */
    margin-bottom: 0.2rem; /* 제목 아래 여백 축소 */
    text-align: center;
    font-weight: bold;
  }
  ul {
    font-size: 0.8rem; /* 리스트 글자 크기 축소 */
    margin: 0;
    padding: 0;
    list-style: none;
  }
  li {
    margin-bottom: 0.2rem; /* 리스트 항목 간격 축소 */
  }
  @media (max-width: 768px) {
    width: 8rem; /* 모바일에서 박스 너비 축소 */
    font-size: 0.6rem; /* 글자 크기 더 축소 */
    h2 {
      font-size: 0.8rem; /* 제목 글자 크기 더 축소 */
      font-weight: bold;
    }
    ul {
      font-size: 0.7rem; /* 리스트 글자 크기 더 축소 */
    }
  }
  @media (max-width: 480px) {
    width: 7rem; /* 더 작은 화면에서 박스 너비 축소 */
    font-size: 0.35rem; /* 글자 크기 더 축소 */
    h2 {
      font-size: 0.65rem; /* 제목 글자 크기 더 축소 */
    }
    ul {
      font-size: 0.6rem; /* 리스트 글자 크기 더 축소 */
    }
  }
`,B={control:(e,t)=>({...e,display:"flex",flexWrap:"nowrap",overflowX:"auto",overflowY:"auto",boxShadow:t.isFocused?"0 0 0 2px rgba(251, 191, 36, 1)":e.boxShadow,borderColor:t.isFocused?"rgba(251, 191, 36, 1)":e.borderColor,"&:hover":{borderColor:t.isFocused?"rgba(251, 191, 36, 1)":e.borderColor},borderRadius:"0.375rem",minWidth:"120px",maxWidth:"100%"}),multiValue:e=>({...e,display:"inline-flex",alignItems:"center",margin:"0 4px"}),multiValueLabel:e=>({...e,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}),multiValueRemove:e=>({...e,cursor:"pointer"}),menuPortal:e=>({...e,zIndex:9999})},$=h().div`
  display: grid;
  grid-template-columns: repeat(3, 1fr); /* 데스크톱에서는 6열 고정 */
  gap: 0.2rem; /* 버튼 간격을 줄임 */
  @media (max-width: 768px) {
    grid-template-columns: repeat(2, 1fr); /* 모바일에서 2열로 변경 */
    gap: 0.1rem; /* 모바일에서 간격을 더 줄임 */
  }
`,W=h().button`
  display: none; /* 기본적으로 숨김 */
  @media (min-width: 768px) {
    display: inline-block; /* 데스크톱에서는 표시 */
  }
  padding: 0.3rem 0.8rem; /* 버튼 패딩을 줄임 */
  background-color: #3e2723;
  color: white;
  border-radius: 0.375rem;
  border: none;
  cursor: pointer;
  font-size: 0.8rem; /* 글자 크기를 줄임 */
  transition: background-color 0.3s ease;
  &:hover {
    background-color: #5d4037;
  }
  &:focus {
    outline: none;
    box-shadow: 0 0 0 2px #3e2723;
  }
`,Y=h().div`
  display: flex;
  max-height: 5rem; /* 최대 높이 설정 */
  gap: 0.3rem; /* 버튼 간격을 줄임 */
  overflow-x: auto;
  overflow-y: auto;
  padding: 0.3rem; /* 상하 패딩을 줄임 */
  background-color: #d1c6b1;
  border-radius: 0.375rem;
  transition: transform 0.3s ease-in-out; /* 애니메이션 효과 */
  transform: ${({isVisible:e})=>e?"translateY(0)":"translateY(-100%)"}; /* 위로 숨기기 */
  position: relative;
  /* 스크롤바 스타일 */
  &::-webkit-scrollbar {
    height: 6px; /* 스크롤바 높이를 줄임 */
  }
  &::-webkit-scrollbar-thumb {
    background-color: #9e9d89;
    border-radius: 4px;
  }
  &::-webkit-scrollbar-track {
    background-color: #f5f5f5;
  }
  @media (max-width: 768px) {
    display: block; /* 모바일에서는 캐러셀로 변경 */
  }
`,X=(h()(S())`
  .slick-dots {
    bottom: -20px; /* 도트 위치를 아래로 조정 */
  }
  .slick-dots li button:before {
    font-size: 10px; /* 도트 크기 조정 */
    color: #9e9d89; /* 도트 색상 */
  }
  .slick-dots li.slick-active button:before {
    color: #3e2723; /* 활성화된 도트 색상 */
  }
`,h().div`
  width: 110%; /* 팝업 너비 */
  max-height: 80%; /* 팝업 최대 높이 */
  font-size: 14px;
  background: rgba(241, 245, 249, 0.6); /* 약간의 투명도 추가 */
  padding: 2rem;
  overflow-y: auto;
  z-index: 2000;
  margin: -1rem -1rem;
  h2 {
    font-size: 16px;
    font-weight: bold;
    color: #3e2723; /* 제목 색상 */
    margin-bottom: 8px;
  }
  p {
    font-size: 0.8rem;
    color: #1f2937; /* 텍스트 색상 */
    margin-bottom: 0.2rem;
  }
  .popup-image {
    display: flex;
    justify-content: center;
    margin-bottom: 10px;
    img {
      width: 80px;
      height: 80px;
      object-fit: cover;
      border-radius: 50%;
      box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
    }
  }
  @media (max-width: 768px) {
    width: 100%;
    max-height: 350px;
    font-size: 12px;
  }
  @media (max-width: 480px) {
    width: 100%;
    max-height: 250px;
    font-size: 10px;
  }
`);h().div`
  max-height: calc(100%); /* 팝업 내부에서 꽉 차도록 설정 */
  border-radius: 8px;
  width: 100%; /* 팝업 콘텐츠와 동일한 너비 */
  background: #f9fafb; /* 팝업과 동일한 배경색 */
  box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
  overflow-y: auto;
  font-color: #111827 .comment-input {
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin-bottom: 8px;
    input {
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-size: 14px;
      outline: none;
      transition: border-color 0.3s;
      &:focus {
        border-color: #3e2723;
        box-shadow: 0 0 0 2px rgba(62, 39, 35, 0.2);
      }
    }
    button {
      padding: 8px 16px;
      background-color: #3e2723;
      color: #ffffff;
      border: none;
      border-radius: 4px;
      font-size: 14px;
      cursor: pointer;
      transition: background-color 0.3s;
      &:hover {
        background-color: #5d4037;
      }
    }
  }
  .comment-list {
    max-height: calc(100%); /* 코멘트 리스트가 꽉 차도록 설정 */
    overflow-y: auto;
    li {
      background: #ffffff;
      border-radius: 4px;
      padding: 8px;
      box-shadow: 0px 2px 4px rgba(62, 39, 35, 0.2);
      .comment-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 12px;
        color: #5d4037;
        margin-bottom: 4px;
        .comment-user {
          font-weight: bold;
        }
        .comment-date {
          font-size: 11px;
          color: #9e9e9e;
        }
      }
      .comment-content {
        font-size: 12px;
        color: #3e2723;
      }
    }
  }
  @media (max-width: 768px) {
    max-height: calc(100% - 2rem);
    padding: 8px;
  }
  @media (max-width: 480px) {
    max-height: calc(100% - 1.5rem);
    font-size: 10px;
    padding: 5px;
  }
`;let V=h().ul`
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  padding: 0.5rem 0.2rem 0.2rem 0.2rem; // 상단, 좌우, 하단 패딩 추가
  margin: 0;
  list-style: none;
`,q=h().li`
  flex: 1 1 30%;
  min-width: 180px;
  max-width: 320px;
  background: #fff8e1;
  border: 1px solid #ffe0b2;
  border-radius: 8px;
  padding: 0.5rem 0.7rem;
  margin-bottom: 0.2rem;
  display: flex;
  align-items: center;
  font-size: 0.98em;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
  .item-title {
    flex: 1;
    min-width: 0;
    max-width: 220px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    font-weight: 500;
    color: #3e2723;
    padding-right: 0.3em;
  }
  .item-meta {
    margin-left: 0.5em;
    font-size: 0.85em;
    color: #8d6e63;
    flex-shrink: 0;
  }
`,K=h().div`
  display: flex;
  gap: 0.5rem;
  margin: 0.7rem 0 0.5rem 0;
  justify-content: flex-end;
`,G=h().button`
  padding: 0.32rem 0.7rem;
  font-size: 0.92em;
  border-radius: 7px;
  border: none;
  font-weight: 600;
  cursor: pointer;
  margin-right: 0.3rem;
  transition:
    background 0.2s,
    color 0.2s;
  background: ${({active:e})=>e?"#e3f2fd":"#fff3e0"};
  color: ${({active:e})=>e?"#1976d2":"#e65100"};
  box-shadow: 0 1px 3px
    ${({active:e})=>e?"rgba(33,150,243,0.07)":"rgba(255,152,0,0.07)"};
  &:hover {
    background: ${({active:e})=>e?"#bbdefb":"#ffe0b2"};
    color: ${({active:e})=>e?"#1565c0":"#ff9800"};
  }
`,Z=h().div`
  max-height: ${({open:e})=>e?"600px":"0"};
  overflow: hidden;
  transition: max-height 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  opacity: ${({open:e})=>+!!e};
  transform: translateY(${({open:e})=>e?"0":"-10px"});
  transition-property: max-height, opacity, transform;
  margin-bottom: ${({open:e})=>e?"1rem":"0"};
`,Q=h().table`
  width: 100%;
  font-size: 1rem;
  margin-top: 0.7rem;
  border-collapse: collapse;
  background: rgba(255, 255, 255, 0.93);
  border-radius: 10px;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(33, 150, 243, 0.07);
  th,
  td {
    padding: 0.7em 0.6em;
    border-bottom: 1px solid #e0e0e0;
    text-align: center;
  }
  th {
    background: #e3f2fd;
    color: #1976d2;
    font-size: 1.08em;
    font-weight: 600;
  }
  tr:last-child td {
    border-bottom: none;
  }
  td {
    color: #3e2723;
    font-size: 0.98em;
  }
`,J=h().table`
  width: 100%;
  font-size: 1rem;
  margin-top: 0.7rem;
  border-collapse: collapse;
  background: #fff8e1;
  border-radius: 10px;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(255, 152, 0, 0.08);
  th,
  td {
    padding: 0.7em 0.6em;
    border-bottom: 1px solid #ffe0b2;
    text-align: center;
  }
  th {
    background: #ffe0b2;
    color: #e65100;
    font-size: 1.08em;
    font-weight: 600;
  }
  tr:last-child td {
    border-bottom: none;
  }
  td {
    color: #e65100;
    font-size: 0.98em;
  }
`,ee=U;n()}catch(e){n(e)}})},7980:(e,t,r)=>{"use strict";function n(e,t){return e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removeLocale",{enumerable:!0,get:function(){return n}}),r(6290),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8088:()=>{},8149:(e,t,r)=>{"use strict";r.a(e,async(e,n)=>{try{r.d(t,{A:()=>h});var a=r(8732),i=r(2015),o=r(4695),s=r(3314),l=r(8462),c=r(7843),d=r(5887),u=e([o,s,l,c]);[o,s,l,c]=u.then?(await u)():u;let h=({searchQuery:e,setFocusedNode:t,handleEntityClick:r,handleMigrationTraceClick:n,handleEdgeClick:u,handleNetworkEdgesToggle:h})=>{let[p,f]=(0,i.useState)(1),[m,g]=(0,i.useState)(!0),{t:y}=(0,c.useTranslation)(),{data:b,isLoading:x,error:_}=(0,o.TQ)(e,p),v=(0,l.useQueryClient)(),w=e=>{f(e)};if(!m)return(0,a.jsxs)("button",{onClick:()=>g(!0),className:"fixed top-4 right-4 bg-blue-500 text-white p-2 rounded-full shadow-lg hover:bg-blue-600 transition",children:[(0,a.jsx)(d.CKj,{size:20})," "]});if(x)return(0,a.jsx)("p",{children:"Loading..."});if(_)return(0,a.jsxs)("p",{children:["Error: ",_.message]});let E=b?.totalPages||0,j=b?.networks?.length||0;return(0,a.jsxs)("div",{className:"relative my-1 w-full max-w-lg sm:max-w-full shadow-md rounded-md p-2",children:[(0,a.jsxs)("button",{onClick:()=>g(!1),className:"fixed top-30 right-10 bg-gray-200 text-gray-600 p-2 rounded-full hover:bg-gray-300 transition",children:[(0,a.jsx)(d.yGN,{size:16})," "]}),(0,a.jsxs)("div",{className:"flex justify-center items-center mb-4 sm:text-sm",children:[(0,a.jsxs)("h2",{className:"text-lg font-bold sm:text-xl text-sm",children:[y("Found")," ",j," ",y("Results")]}),(0,a.jsx)("button",{onClick:()=>{v.invalidateQueries({queryKey:["searchNetworks"]}),alert("Cache has been cleared!")},className:"ml-1 sm:ml-2 text-red-500 hover:text-red-700",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v3m0 9v3m7.5-7.5h-3m-9 0H4.5m12.364-5.636l-2.121 2.121m-6.364 6.364L5.636 16.95m12.728 0l-2.121-2.121m-6.364-6.364L5.636 7.05"})})})]}),(0,a.jsx)("div",{className:"flex flex-col sm:flex-row items-center justify-between mt-4",children:(0,a.jsxs)("div",{className:"flex justify-center items-center flex-1 gap-4",children:[(0,a.jsx)("button",{onClick:()=>w(p-1),disabled:1===p,className:"px-4 py-2 bg-blue-500 text-sm text-white rounded disabled:bg-gray-300 sm:px-4 sm:py-2 sm:text-sm px-2 py-1 text-xs",children:y("Prev")}),(0,a.jsxs)("span",{className:"text-sm",children:[p," / ",E]}),(0,a.jsx)("button",{onClick:()=>w(p+1),disabled:p>=E,className:"px-4 py-2 bg-blue-500 text-sm text-white rounded disabled:bg-gray-300 sm:px-4 sm:py-2 sm:text-sm px-2 py-1 text-xs",children:y("Next")})]})}),b&&b.networks&&0!==b.networks.length?(0,a.jsx)("ul",{className:"space-y-4 flex flex-col items-center",children:b?.networks.map(e=>(0,a.jsx)(s.m,{...e,setFocusedNode:t,handleEntityClick:r,handleMigrationTraceClick:n,handleEdgeClick:u,handleNetworkEdgesToggle:h},e.id))}):(0,a.jsx)("p",{className:"text-center",children:y("No search results found.")})]})};n()}catch(e){n(e)}})},8156:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removePathPrefix",{enumerable:!0,get:function(){return a}});let n=r(9596);function a(e,t){if(!(0,n.pathHasPrefix)(e,t))return e;let r=e.slice(t.length);return r.startsWith("/")?r:"/"+r}},8164:(e,t,r)=>{"use strict";r.d(t,{O:()=>n});let n=(e,t)=>{let r={},n={};switch(e.forEach(e=>{n[e.id]=(e.edges||[]).map(e=>e.targetId)}),t){case"degree":for(let e in n)r[e]=0;for(let t in n)for(let a in r[t]+=n[t].reduce((r,n)=>{let a=e.find(e=>e.id===Number(t))?.edges.find(e=>e.targetId===n);return r+(a?a.strength:1)},0),n)if(n[a].includes(Number(t))){let n=e.find(e=>e.id===Number(a))?.edges.find(e=>e.targetId===Number(t));r[t]+=n?n.strength:1}break;case"betweenness":for(let e in n)r[e]=0;for(let t in n){let a={},i={},o={},s=[],l=new Set;for(Object.keys(n).forEach(e=>{i[Number(e)]=1/0,a[Number(e)]=0,o[Number(e)]=[]}),i[Number(t)]=0,a[Number(t)]=1,s.push(Number(t));s.length>0;){let t=s.shift();l.add(t),n[t].forEach(r=>{let n=e.find(e=>e.id===t)?.edges.find(e=>e.targetId===r),c=n?n.strength:1,d=i[t]+c;d<i[r]?(i[r]=d,o[r]=[t],a[r]=a[t],l.has(r)||s.push(r)):d===i[r]&&(o[r].push(t),a[r]+=a[t])})}let c={};Object.keys(o).forEach(e=>{c[Number(e)]=0}),Object.keys(o).map(Number).sort((e,t)=>i[t]-i[e]).forEach(e=>{o[e].forEach(t=>{let r=a[t]/a[e]*(1+c[e]);c[t]+=r}),e!==Number(t)&&(r[e]+=c[e])})}let i=Object.keys(n).length;Object.keys(r).forEach(e=>{r[Number(e)]/=(i-1)*(i-2)});break;case"closeness":for(let e in n){let t=Object.values(a(Number(e),n)).reduce((e,t)=>e+t,0);r[e]=t>0?1/t:0}break;case"eigenvector":let o=Object.keys(n).length,s={},l={};Object.keys(n).forEach(e=>{s[Number(e)]=1/Math.sqrt(o)});let c=1/0,d=0;for(;c>1e-6&&d<100;){for(let t in l={...s},c=0,n){let r=0;for(let a in n[Number(t)].forEach(n=>{let a=e.find(e=>e.id===Number(t))?.edges.find(e=>e.targetId===n),i=a?a.strength:1;r+=l[n]*i}),n)if(n[a].includes(Number(t))){let n=e.find(e=>e.id===Number(a))?.edges.find(e=>e.targetId===Number(t)),i=n?n.strength:1;r+=l[Number(a)]*i}s[Number(t)]=r}let t=Math.sqrt(Object.values(s).reduce((e,t)=>e+t*t,0));for(let e in s)s[Number(e)]/=t||1;Object.keys(s).forEach(e=>{c+=Math.abs(s[Number(e)]-l[Number(e)])}),d++}r=s}return r},a=(e,t)=>{let r=[[e,0]],n={[e]:0},a=new Set([e]);for(;r.length>0;){let[e,i]=r.shift();(t[e]||[]).forEach(e=>{a.has(e)||(a.add(e),n[e]=i+1,r.push([e,i+1]))})}return n}},8333:(e,t)=>{"use strict";function r(e,t){return void 0===t&&(t=""),("/"===e?"/index":/^\/index(\/|$)/.test(e)?"/index"+e:e)+t}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}})},8410:(e,t)=>{"use strict";function r(e,t){let r={};return Object.keys(e).forEach(n=>{t.includes(n)||(r[n]=e[n])}),r}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"omit",{enumerable:!0,get:function(){return r}})},8537:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"HTML_LIMITED_BOT_UA_RE",{enumerable:!0,get:function(){return r}});let r=/Mediapartners-Google|Slurp|DuckDuckBot|baiduspider|yandex|sogou|bitlybot|tumblr|vkShare|quora link preview|redditbot|ia_archiver|Bingbot|BingPreview|applebot|facebookexternalhit|facebookcatalog|Twitterbot|LinkedInBot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|Yeti/i},8542:(e,t)=>{"use strict";let r;function n(e){return(null==r?void 0:r.createScriptURL(e))||e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"__unsafeCreateTrustedScriptURL",{enumerable:!0,get:function(){return n}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8550:(e,t,r)=>{(()=>{var t={154:(e,t,r)=>{var n=r(781),a=["write","end","destroy"],i=["resume","pause"],o=["data","close"],s=Array.prototype.slice;function l(e,t){if(e.forEach)return e.forEach(t);for(var r=0;r<e.length;r++)t(e[r],r)}e.exports=function(e,t){var r=new n,c=!1;return l(a,function(t){r[t]=function(){return e[t].apply(e,arguments)}}),l(i,function(e){r[e]=function(){r.emit(e);var n=t[e];if(n)return n.apply(t,arguments);t.emit(e)}}),l(o,function(e){t.on(e,function(){var t=s.call(arguments);t.unshift(e),r.emit.apply(r,t)})}),t.on("end",function(){if(!c){c=!0;var e=s.call(arguments);e.unshift("end"),r.emit.apply(r,e)}}),e.on("drain",function(){r.emit("drain")}),e.on("error",d),t.on("error",d),r.writable=e.writable,r.readable=t.readable,r;function d(e){r.emit("error",e)}}},349:(e,t,r)=>{"use strict";let n=r(147),a=r(781),i=r(796),o=r(154),s=r(530),l=e=>Object.assign({level:9},e);e.exports=(e,t)=>e?s(i.gzip)(e,l(t)).then(e=>e.length).catch(e=>0):Promise.resolve(0),e.exports.sync=(e,t)=>i.gzipSync(e,l(t)).length,e.exports.stream=e=>{let t=new a.PassThrough,r=new a.PassThrough,n=o(t,r),s=0,c=i.createGzip(l(e)).on("data",e=>{s+=e.length}).on("error",()=>{n.gzipSize=0}).on("end",()=>{n.gzipSize=s,n.emit("gzip-size",s),r.end()});return t.pipe(c),t.pipe(r,{end:!1}),n},e.exports.file=(t,r)=>new Promise((a,i)=>{let o=n.createReadStream(t);o.on("error",i);let s=o.pipe(e.exports.stream(r));s.on("error",i),s.on("gzip-size",a)}),e.exports.fileSync=(t,r)=>e.exports.sync(n.readFileSync(t),r)},530:e=>{"use strict";let t=(e,t)=>function(...r){return new t.promiseModule((n,a)=>{t.multiArgs?r.push((...e)=>{t.errorFirst?e[0]?a(e):(e.shift(),n(e)):n(e)}):t.errorFirst?r.push((e,t)=>{e?a(e):n(t)}):r.push(n),e.apply(this,r)})};e.exports=(e,r)=>{let n;r=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},r);let a=typeof e;if(null===e||"object"!==a&&"function"!==a)throw TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${null===e?"null":a}\``);let i=e=>{let t=t=>"string"==typeof t?e===t:t.test(e);return r.include?r.include.some(t):!r.exclude.some(t)};for(let o in n="function"===a?function(...n){return r.excludeMain?e(...n):t(e,r).apply(this,n)}:Object.create(Object.getPrototypeOf(e)),e){let a=e[o];n[o]="function"==typeof a&&i(o)?t(a,r):a}return n}},147:e=>{"use strict";e.exports=r(9021)},781:e=>{"use strict";e.exports=r(7910)},796:e=>{"use strict";e.exports=r(4075)}},n={};function a(e){var r=n[e];if(void 0!==r)return r.exports;var i=n[e]={exports:{}},o=!0;try{t[e](i,i.exports,a),o=!1}finally{o&&delete n[e]}return i.exports}a.ab=__dirname+"/",e.exports=a(349)})()},8795:(e,t,r)=>{"use strict";r.a(e,async(e,n)=>{try{r.d(t,{Tu:()=>d,eT:()=>l,p4:()=>s,vv:()=>c});var a=r(1428),i=e([a]);a=(i.then?(await i)():i)[0];let o=process.env.REACT_APP_API_URL,s=async e=>(await a.default.get(`${o}/comments/network/${e}`)).data,l=async e=>(await a.default.post(`${o}/comments`,e)).data,c=async e=>(await a.default.put(`${o}/comments/${e.id}`,e)).data,d=async e=>{await a.default.delete(`${o}/comments/${e}`)};n()}catch(e){n(e)}})},8866:(e,t,r)=>{"use strict";r.a(e,async(e,n)=>{try{r.d(t,{Q:()=>c});var a=r(1428),i=r(8462),o=r(5996),s=r(8924),l=e([a,i,o,s]);[a,i,o,s]=l.then?(await l)():l;let c=()=>{let e=(0,i.useQueryClient)(),{switchErrorHandling:t}=(0,s.q)(),r=(0,o.A)(e=>e.resetEditedNetwork),n=(0,i.useMutation)(e=>a.default.post("http://localhost:8080/networks",e,{headers:{"Content-Type":"multipart/form-data"}}),{onSuccess:t=>{let n=e.getQueryData(["networks"]);n&&e.setQueryData(["networks"],[...n,t.data]),r()},onError:e=>{e.response.data.message?t(e.response.data.message):t(e.response.data)}}),l=(0,i.useMutation)(({id:e,formData:t})=>a.default.put(`http://localhost:8080/networks/${e}`,t,{headers:{"Content-Type":"multipart/form-data"}}),{onSuccess:(t,n)=>{let a=e.getQueryData(["networks"]);a&&e.setQueryData(["networks"],a.map(e=>e.id===n.id?t.data:e)),r()},onError:e=>{e.response.data.message?t(e.response.data.message):t(e.response.data)}}),c=(0,i.useMutation)(e=>a.default.delete(`http://localhost:8080/networks/${e}`),{onSuccess:(t,n)=>{let a=e.getQueryData(["networks"]);a&&e.setQueryData(["networks"],a.filter(e=>e.id!==n)),r()},onError:e=>{e.response.data.message?t(e.response.data.message):t(e.response.data)}});return{createNetworkMutation:n,updateNetworkMutation:l,deleteNetworkMutation:c}};n()}catch(e){n(e)}})},8900:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"escapeStringRegexp",{enumerable:!0,get:function(){return a}});let r=/[|\\{}()[\]^$+*?.-]/,n=/[|\\{}()[\]^$+*?.-]/g;function a(e){return r.test(e)?e.replace(n,"\\$&"):e}},8924:(e,t,r)=>{"use strict";r.a(e,async(e,n)=>{try{r.d(t,{q:()=>l});var a=r(1428),i=r(4233),o=r(5996),s=e([a,o]);[a,o]=s.then?(await s)():s;let l=()=>{let e=(0,i.useRouter)(),t=(0,o.A)(e=>e.resetEditedTask),r=async()=>{let{data:e}=await a.default.get("http://localhost:8080/csrf");a.default.defaults.headers.common["X-CSRF-TOKEN"]=e.csrf_token};return{switchErrorHandling:n=>{switch(n){case"invalid csrf token":r(),alert("CSRF token is invalid, please try again");break;case"invalid or expired jwt":alert("access token expired, please login"),t(),e.push("/");break;case"missing or malformed jwt":alert("access token is not valid, please login"),t(),e.push("/");break;case"duplicated key not allowed":alert("email already exist, please use another one");break;case"crypto/bcrypt: hashedPassword is not the hash of the given password":alert("password is not correct");break;case"record not found":alert("email is not correct");break;default:alert(n)}}}};n()}catch(e){n(e)}})},8941:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"setAttributesFromProps",{enumerable:!0,get:function(){return i}});let r={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv",noModule:"noModule"},n=["onLoad","onReady","dangerouslySetInnerHTML","children","onError","strategy","stylesheets"];function a(e){return["async","defer","noModule"].includes(e)}function i(e,t){for(let[i,o]of Object.entries(t)){if(!t.hasOwnProperty(i)||n.includes(i)||void 0===o)continue;let s=r[i]||i.toLowerCase();"SCRIPT"===e.tagName&&a(s)?e[s]=!!o:e.setAttribute(s,String(o)),(!1===o||"SCRIPT"===e.tagName&&a(s)&&(!o||"false"===o))&&(e.setAttribute(s,""),e.removeAttribute(s))}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8992:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathSuffix",{enumerable:!0,get:function(){return a}});let n=r(6290);function a(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:a,hash:i}=(0,n.parsePath)(e);return""+r+t+a+i}},9007:(e,t)=>{"use strict";function r(){return""}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getDeploymentIdQueryOrEmptyString",{enumerable:!0,get:function(){return r}})},9320:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{createRouteLoader:function(){return g},getClientBuildManifest:function(){return f},isAssetError:function(){return d},markAssetError:function(){return c}}),r(7020),r(8333);let n=r(8542),a=r(4841),i=r(9007),o=r(5296);function s(e,t,r){let n,a=t.get(e);if(a)return"future"in a?a.future:Promise.resolve(a);let i=new Promise(e=>{n=e});return t.set(e,{resolve:n,future:i}),r?r().then(e=>(n(e),e)).catch(r=>{throw t.delete(e),r}):i}let l=Symbol("ASSET_LOAD_ERROR");function c(e){return Object.defineProperty(e,l,{})}function d(e){return e&&l in e}let u=function(e){try{return e=document.createElement("link"),!!window.MSInputMethodContext&&!!document.documentMode||e.relList.supports("prefetch")}catch(e){return!1}}(),h=()=>(0,i.getDeploymentIdQueryOrEmptyString)();function p(e,t,r){return new Promise((n,i)=>{let o=!1;e.then(e=>{o=!0,n(e)}).catch(i),(0,a.requestIdleCallback)(()=>setTimeout(()=>{o||i(r)},t))})}function f(){return self.__BUILD_MANIFEST?Promise.resolve(self.__BUILD_MANIFEST):p(new Promise(e=>{let t=self.__BUILD_MANIFEST_CB;self.__BUILD_MANIFEST_CB=()=>{e(self.__BUILD_MANIFEST),t&&t()}}),3800,c(Object.defineProperty(Error("Failed to load client build manifest"),"__NEXT_ERROR_CODE",{value:"E273",enumerable:!1,configurable:!0})))}function m(e,t){return f().then(r=>{if(!(t in r))throw c(Object.defineProperty(Error("Failed to lookup route: "+t),"__NEXT_ERROR_CODE",{value:"E446",enumerable:!1,configurable:!0}));let a=r[t].map(t=>e+"/_next/"+(0,o.encodeURIPath)(t));return{scripts:a.filter(e=>e.endsWith(".js")).map(e=>(0,n.__unsafeCreateTrustedScriptURL)(e)+h()),css:a.filter(e=>e.endsWith(".css")).map(e=>e+h())}})}function g(e){let t=new Map,r=new Map,n=new Map,i=new Map;function o(e){{var t;let n=r.get(e.toString());return n?n:document.querySelector('script[src^="'+e+'"]')?Promise.resolve():(r.set(e.toString(),n=new Promise((r,n)=>{(t=document.createElement("script")).onload=r,t.onerror=()=>n(c(Object.defineProperty(Error("Failed to load script: "+e),"__NEXT_ERROR_CODE",{value:"E74",enumerable:!1,configurable:!0}))),t.crossOrigin=void 0,t.src=e,document.body.appendChild(t)})),n)}}function l(e){let t=n.get(e);return t||n.set(e,t=fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw Object.defineProperty(Error("Failed to load stylesheet: "+e),"__NEXT_ERROR_CODE",{value:"E189",enumerable:!1,configurable:!0});return t.text().then(t=>({href:e,content:t}))}).catch(e=>{throw c(e)})),t}return{whenEntrypoint:e=>s(e,t),onEntrypoint(e,r){(r?Promise.resolve().then(()=>r()).then(e=>({component:e&&e.default||e,exports:e}),e=>({error:e})):Promise.resolve(void 0)).then(r=>{let n=t.get(e);n&&"resolve"in n?r&&(t.set(e,r),n.resolve(r)):(r?t.set(e,r):t.delete(e),i.delete(e))})},loadRoute(r,n){return s(r,i,()=>{let a;return p(m(e,r).then(e=>{let{scripts:n,css:a}=e;return Promise.all([t.has(r)?[]:Promise.all(n.map(o)),Promise.all(a.map(l))])}).then(e=>this.whenEntrypoint(r).then(t=>({entrypoint:t,styles:e[1]}))),3800,c(Object.defineProperty(Error("Route did not complete loading: "+r),"__NEXT_ERROR_CODE",{value:"E12",enumerable:!1,configurable:!0}))).then(e=>{let{entrypoint:t,styles:r}=e,n=Object.assign({styles:r},t);return"error"in t?t:n}).catch(e=>{if(n)throw e;return{error:e}}).finally(()=>null==a?void 0:a())})},prefetch(t){let r;return(r=navigator.connection)&&(r.saveData||/2g/.test(r.effectiveType))?Promise.resolve():m(e,t).then(e=>Promise.all(u?e.scripts.map(e=>{var t,r,n;return t=e.toString(),r="script",new Promise((e,a)=>{let i='\n      link[rel="prefetch"][href^="'+t+'"],\n      link[rel="preload"][href^="'+t+'"],\n      script[src^="'+t+'"]';if(document.querySelector(i))return e();n=document.createElement("link"),r&&(n.as=r),n.rel="prefetch",n.crossOrigin=void 0,n.onload=e,n.onerror=()=>a(c(Object.defineProperty(Error("Failed to prefetch: "+t),"__NEXT_ERROR_CODE",{value:"E268",enumerable:!1,configurable:!0}))),n.href=t,document.head.appendChild(n)})}):[])).then(()=>{(0,a.requestIdleCallback)(()=>this.loadRoute(t,!0).catch(()=>{}))}).catch(()=>{})}}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9596:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"pathHasPrefix",{enumerable:!0,get:function(){return a}});let n=r(6290);function a(e,t){if("string"!=typeof e)return!1;let{pathname:r}=(0,n.parsePath)(e);return r===t||r.startsWith(t+"/")}},9705:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getNextPathnameInfo",{enumerable:!0,get:function(){return o}});let n=r(2746),a=r(8156),i=r(9596);function o(e,t){var r,o;let{basePath:s,i18n:l,trailingSlash:c}=null!=(r=t.nextConfig)?r:{},d={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):c};s&&(0,i.pathHasPrefix)(d.pathname,s)&&(d.pathname=(0,a.removePathPrefix)(d.pathname,s),d.basePath=s);let u=d.pathname;if(d.pathname.startsWith("/_next/data/")&&d.pathname.endsWith(".json")){let e=d.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/");d.buildId=e[0],u="index"!==e[1]?"/"+e.slice(1).join("/"):"/",!0===t.parseData&&(d.pathname=u)}if(l){let e=t.i18nProvider?t.i18nProvider.analyze(d.pathname):(0,n.normalizeLocalePath)(d.pathname,l.locales);d.locale=e.detectedLocale,d.pathname=null!=(o=e.pathname)?o:d.pathname,!e.detectedLocale&&d.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(u):(0,n.normalizeLocalePath)(u,l.locales)).detectedLocale&&(d.locale=e.detectedLocale)}return d}},9845:(e,t,r)=>{"use strict";r.a(e,async(e,n)=>{try{r.d(t,{A:()=>d});var a=r(8732),i=r(2015),o=r(6314),s=r(5996),l=r(7843),c=e([o,s,l]);[o,s,l]=c.then?(await c)():c;let d=({networkId:e})=>{let{comments:t,currentNetworkId:r,fetchComments:n,createComment:c,updateComment:d,deleteComment:u}=(0,o.A)(),[h,p]=(0,i.useState)(""),[f,m]=(0,i.useState)(null),{user:g}=(0,s.A)(),{t:y}=(0,l.useTranslation)();(0,i.useEffect)(()=>{r!==e&&n(e)},[e,r,n]);let b=async()=>{if(h.trim()){let t={network_id:e,user_id:g?.id??0,user_name:g?.name||"Guest",user_role:g?.role||"Guest",content:h};await c(e,t),p("")}},x=async()=>{f&&f.content.trim()&&(await d(e,f),m(null))},_=async t=>{g&&await u(e,t)};return(0,a.jsxs)("div",{className:"w-30 h-30 mx-auto bg-[rgba(241,245,249,0.6)] p-3",children:[" ",(0,a.jsx)("h3",{className:"text-sm font-semibold mb-2",children:y("Comments")}),(0,a.jsx)("ul",{className:"space-y-2",children:t[e]&&t[e].length>0?t[e].map(e=>(0,a.jsxs)("li",{className:"flex flex-col bg-white p-2 border border-gray-200 rounded overflow-y-auto",children:[f?.id===e.id?(0,a.jsx)("input",{type:"text",value:f.content,onChange:e=>m({...f,content:e.target.value}),className:"w-full p-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-400 text-xs"}):(0,a.jsxs)("div",{className:"text-xs text-gray-800 overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"font-semibold text-gray-900",children:e.user_name}),(0,a.jsxs)("span",{className:"text-gray-500",children:["(",y(e.user_role),")"]}),(0,a.jsx)("span",{className:"text-gray-400 text-[11px]",children:e.created_at instanceof Date?e.created_at.toISOString().split("T")[0].replace(/-/g,"/"):new Date(e.created_at).toISOString().split("T")[0].replace(/-/g,"/")})]}),(0,a.jsx)("p",{className:"mt-1 text-gray-700",children:e.content})]}),g&&e.user_id===g.id&&(0,a.jsxs)("div",{className:"flex justify-end space-x-1 mt-1",children:[f?.id===e.id?(0,a.jsx)("button",{onClick:x,className:"px-2 py-0.5 bg-green-500 text-white text-xs rounded hover:bg-green-600",children:y("Save")}):(0,a.jsx)("button",{onClick:()=>m(e),className:"px-2 py-0.5 bg-blue-500 text-white text-xs rounded hover:bg-blue-600",children:y("Edit")}),(0,a.jsx)("button",{onClick:()=>_(e.id),className:"px-2 py-0.5 bg-red-500 text-white text-xs rounded hover:bg-red-600",children:y("Delete")})]})]},e.id)):(0,a.jsx)("p",{className:"text-xs text-gray-500",children:y("No comments yet.")})}),g.isLoggedIn&&(0,a.jsxs)("div",{className:"flex flex-col mt-3",children:[(0,a.jsx)("input",{type:"text",value:h,onChange:e=>p(e.target.value),placeholder:y("add comments"),className:"flex-1 p-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-400"}),(0,a.jsx)("button",{onClick:b,className:"px-3 py-1 mt-2 bg-blue-500 text-white text-xs rounded hover:bg-blue-600",children:y("Add")})]})]})};n()}catch(e){n(e)}})},9975:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(8732),a=r(2015);let i=({value:e,onChange:t,placeholderStart:r="Start Year",placeholderEnd:i="End Year",min:o=-5e3,max:s=5e3})=>{let[l,c]=(0,a.useState)(e[0]),[d,u]=(0,a.useState)(e[1]),h=(0,a.useRef)(null);return(0,a.useEffect)(()=>{c(e[0]),u(e[1])},[e]),(0,a.useEffect)(()=>(h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{t([l,d])},1e3),()=>{h.current&&clearTimeout(h.current)}),[l,d]),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("input",{type:"number",min:o,max:s,placeholder:r,value:0===l?"":l,onChange:e=>{c(""===e.target.value?0:parseInt(e.target.value))},className:"w-16 p-1 border rounded text-sm focus:outline-none focus:ring-2 focus:ring-amber-500"}),(0,n.jsx)("span",{className:"text-sm",children:"-"}),(0,n.jsx)("input",{type:"number",min:o,max:s,placeholder:i,value:0===d?"":d,onChange:e=>{u(""===e.target.value?0:parseInt(e.target.value))},className:"w-16 p-1 border rounded text-sm focus:outline-none focus:ring-2 focus:ring-amber-500"})]})}}};